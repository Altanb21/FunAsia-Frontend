(()=>{var t={1673:function(t,e,n){var i,o,r;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){return!e||"object"!=s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t){return t instanceof d}var p={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=!0===t||void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},d=Phaser.Scene,f=Phaser.Utils.Objects.GetValue,v=function(){function n(i,o){var r;e(this,n),this.parent=i,this.scene=null==(r=i)||"object"!==t(r)?null:l(r)?r:r.scene&&l(r.scene)?r.scene:r.parent&&r.parent.scene&&l(r.parent.scene)?r.parent.scene:void 0,this.isShutdown=!1,this.setEventEmitter(f(o,"eventEmitter",!0)),this.parent&&this.parent===this.scene?this.scene.events.once("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this)}return i(n,[{key:"shutdown",value:function(){this.isShutdown||(this.parent&&this.parent===this.scene?this.scene.events.off("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.isShutdown=!0)}},{key:"destroy",value:function(t){this.shutdown(t)}},{key:"onSceneDestroy",value:function(){this.destroy(!0)}},{key:"onParentDestroy",value:function(t,e){this.destroy(e)}}]),n}();Object.assign(v.prototype,p);var m=Phaser.Utils.Objects.GetValue,y=function(){o(n,v);var t=u(n);function n(i,o){var r;return e(this,n),(r=t.call(this,i,o))._enable=void 0,i.setInteractive(m(o,"inputConfig",void 0)),r.resetFromJSON(o),r.boot(),r}return i(n,[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(m(t,"enable",!0)),this.setMode(m(t,"mode",1)),this.setClickInterval(m(t,"clickInterval",100)),this.setDragThreshold(m(t,"threshold",void 0)),this}},{key:"boot",value:function(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this)}},{key:"shutdown",value:function(t){this.isShutdown||(this.pointer=null,h(r(n.prototype),"shutdown",this).call(this,t))}},{key:"enable",get:function(){return this._enable},set:function(t){if(this._enable!==t){t||this.cancel();var e=(this._enable=t)?"enable":"disable";this.emit(e,this,this.parent)}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"toggleEnable",value:function(){return this.setEnable(!this.enable),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=g[t]),this.mode=t,this}},{key:"setClickInterval",value:function(t){return this.clickInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"onPress",value:function(t,e,n,i){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t,i))}},{key:"onRelease",value:function(t,e,n,i){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t,i),this.pointer=void 0)}},{key:"onPointOut",value:function(t){this.pointer===t&&this.cancel()}},{key:"onMove",value:function(t){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}},{key:"click",value:function(t,e,n){if(!this.enable)return this;if(void 0===t)return this.emit("click",this,this.parent,e,n),this;this.pointer=void 0;var i=this.lastClickTime;return void 0!==i&&t-i<=this.clickInterval||(this.lastClickTime=t,this.emit("click",this,this.parent,e,n)),this}},{key:"cancel",value:function(){return this.pointer=void 0,this}}]),n}(),g={press:0,pointerdown:0,release:1,pointerup:1};return function(){o(n,Phaser.Plugins.BasePlugin);var t=u(n);function n(i){return e(this,n),t.call(this,i)}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new y(t,e)}}]),n}()},"object"==s(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},9206:function(t,e,n){var i,o,r;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}r=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){return!e||"object"!=s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e,n){return void 0===n&&(n="image"),t[e]||(t[e]=t.scene.make[n]({add:!1,origin:{x:0,y:0}}),t.on("destroy",(function(){t[e]&&(t[e].destroy(),t[e]=void 0)}))),t[e]}function p(t,e,n){return"__BASE"===n?"".concat(t,",").concat(e):"".concat(n,"_").concat(t,",").concat(e)}var d=Phaser.Utils.Objects.IsPlainObject,f=Phaser.Utils.Objects.GetValue,v=function(t){return"string"==typeof t&&(t=m[t]),t},m={scale:0,repeat:1},y={setTexture:function(t,e,n,i){Array.isArray(e)&&(i=n,n=e,e=void 0),void 0===e&&(e="__BASE"),this.textureKey=t,this.baseFrameName=e,this.columns.data=n,this.columns.count=n?n.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.rows.data=i,this.rows.count=i?i.length:0,this.rows.stretch=0,this.rows.minHeight=0;var o=this.scene.textures.get(t);if(!o)return this.clear(),this;if(!n||!i)return this.clear(),this;for(var r=o.frames[e],s=r.width,a=0,c=0,u=n.length;c<u;c++)void 0===n[c]?a++:"number"==typeof n[c]?s-=n[c]:s-=n[c].width;var h=s/a,l=r.height,p=0;for(c=0,u=i.length;c<u;c++)void 0===i[c]?p++:"number"==typeof i[c]?l-=i[c]:l-=i[c].width;for(var d,f,v,m,y,g=l/p,_=0,b=0,E=0,k=i.length;E<k;E++){void 0===i[E]&&(i[E]=g),"number"==typeof i[E]&&(i[E]={height:i[E],stretch:E%2}),v=(d=i[E]).height,this.rows.stretch+=0|d.stretch,this.rows.minHeight+=0<d.stretch?0:v,c=_=0;for(var T=n.length;c<T;c++)void 0===n[c]&&(n[c]=h),"number"==typeof n[c]&&(n[c]={width:n[c],stretch:c%2}),m=(f=n[c]).width,0===E&&(this.columns.stretch+=0|f.stretch,this.columns.minWidth+=0<f.stretch?0:m),1<=m&&1<=v?(y=this.getFrameNameCallback(c,E,e))&&o.add(y,0,_+r.cutX,b+r.cutY,m,v):console.warn("Size of Grid(".concat(c,",").concat(E,") = ").concat(m,"x").concat(v,", which is invalid")),_+=m;b+=v}return this.updateTexture(),this},updateTexture:function(){if(this.clear(),void 0===this.textureKey)return this;var t=this.scene.textures.get(this.textureKey);if(!t)return this;var e,n,i=this.width-this.columns.minWidth;n=0<=i?(e=0<this.columns.stretch?i/this.columns.stretch:0,1):(e=0,this.width/this.columns.minWidth);var o,r,s,a,c,u,h,p=this.height-this.rows.minHeight;r=0<=p?(o=0<this.rows.stretch?p/this.rows.stretch:0,1):(o=0,this.height/this.rows.minHeight);for(var d,f=0,v=0,m=0,y=this.rows.count;m<y;m++){h=0===(c=this.rows.data[m]).stretch?c.height*r:o*c.stretch;for(var g=f=0,_=this.columns.count;g<_;g++)u=0===(a=this.columns.data[g]).stretch?a.width*n:e*a.stretch,(s=this.getFrameNameCallback(g,m,this.baseFrameName))&&0<u&&0<h&&t.has(s)&&(0==(0===c.stretch&&0===a.stretch||0===this.getStretchMode(g,m)?0:1)?(d=l(this,"_image","image")).setTexture(this.textureKey,s).setDisplaySize(u,h):(d=l(this,"_tileSprite","tileSprite")).setTexture(this.textureKey,s).setSize(u,h)),d&&(this.draw(d,f,v),d=void 0),f+=u;v+=h}},setStretchMode:function(t){return d(t)?(this.stretchMode.edge=v(f(t,"edge",0)),this.stretchMode.internal=v(f(t,"internal",0))):(t=v(t),this.stretchMode.edge=t,this.stretchMode.internal=t),this},getStretchMode:function(t,e){return function(t,e){return 0===t||t===this.columns.count-1||0===e||e===this.rows.count-1}.call(this,t,e)?this.stretchMode.edge:this.stretchMode.internal}},g=Phaser.GameObjects.RenderTexture,_=Phaser.Utils.Objects.IsPlainObject,b=Phaser.Utils.Objects.GetValue,E=function(){o(n,g);var t=u(n);function n(i,o,r,s,a,c,u,h,l,p){var d;return e(this,n),_(o)?(o=b(p=o,"x",0),r=b(p,"y",0),s=b(p,"width",1),a=b(p,"height",1),c=b(p,"key",void 0),u=b(p,"baseFrame",void 0),h=b(p,"columns",void 0),l=b(p,"rows",void 0)):_(s)?(s=b(p=s,"width",1),a=b(p,"height",1),c=b(p,"key",void 0),u=b(p,"baseFrame",void 0),h=b(p,"columns",void 0),l=b(p,"rows",void 0)):_(c)?(c=b(p=c,"key",void 0),u=b(p,"baseFrame",void 0),h=b(p,"columns",void 0),l=b(p,"rows",void 0)):_(u)?(u=b(p=u,"baseFrame",void 0),h=b(p,"columns",void 0),l=b(p,"rows",void 0)):Array.isArray(u)?(p=l,l=h,h=u,u=b(p,"baseFrame",void 0)):_(h)&&(h=b(p=h,"columns",void 0),l=b(p,"rows",void 0)),(d=t.call(this,i,o,r,s,a)).columns={},d.rows={},d.stretchMode={},d._tileSprite=void 0,d._image=void 0,d.setOrigin(.5,.5),d.setGetFrameNameCallback(b(p,"getFrameNameCallback",void 0)),d.setStretchMode(b(p,"stretchMode",0)),d.setTexture(c,u,h,l),d}return i(n,[{key:"setGetFrameNameCallback",value:function(t){return void 0===t&&(t=p),this.getFrameNameCallback=t,this}},{key:"minWidth",get:function(){return this.columns.minWidth}},{key:"minHeight",get:function(){return this.rows.minHeight}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e||(h(r(n.prototype),"resize",this).call(this,t,e),this.updateTexture()),this}}]),n}();function k(t,e,n,i,o,r,s,a,c){var u=new E(this.scene,t,e,n,i,o,r,s,a,c);return this.scene.add.existing(u),u}Object.assign(E.prototype,y);var T=Phaser.GameObjects.BuildGameObject;function O(t,e){void 0===t&&(t={}),void 0!==e&&(t.add=e);var n=new E(this.scene,t);return T(this.scene,n,t),n}function w(t){return null==t||""===t||0===t.length}var S=function(){o(n,Phaser.Plugins.BasePlugin);var t=u(n);function n(i){var o;return e(this,n),o=t.call(this,i),i.registerGameObject("rexNinePatch",k,O),o}return i(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}}]),n}();return function(e,n,i){if("object"===t(e))if(w(n)){if(null==i)return;"object"===t(i)&&(e=i)}else{"string"==typeof n&&(n=n.split("."));var o=n.pop();(function(e,n,i){var o=e;if(!w(n)){var r;"string"==typeof n&&(n=n.split("."));for(var s=0,a=n.length;s<a;s++){var c;null!=o[r=n[s]]&&"object"===t(o[r])||(c={},o[r]=c),o=o[r]}}return o}(e,n))[o]=i}}(window,"RexPlugins.GameObjects.NinePatch",E),S},"object"==s(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},6650:function(t,e){!function(t){"use strict";var e=function(t){return function(e){var n=t(e);return e.add(n),n}},n=function(t){return function(e,n){return t.set(e,n),n}},i=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,r=2*o,s=function(t,e){return function(n){var s=e.get(n),a=void 0===s?n.size:s<r?s+1:0;if(!n.has(a))return t(n,a);if(n.size<o){for(;n.has(a);)a=Math.floor(Math.random()*r);return t(n,a)}if(n.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(a);)a=Math.floor(Math.random()*i);return t(n,a)}},a=new WeakMap,c=n(a),u=s(c,a),h=e(u);t.addUniqueNumber=h,t.generateUniqueNumber=u,Object.defineProperty(t,"__esModule",{value:!0})}(e)},2605:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>N});const i={setEventEmitter(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=!0===t||void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},o=Phaser.Scene;const r=function(t){return t instanceof o};const s=function(t){return null==t||"object"!=typeof t?null:r(t)?t:t.scene&&r(t.scene)?t.scene:t.parent&&t.parent.scene&&r(t.parent.scene)?t.parent.scene:void 0},a=Phaser.Utils.Objects.GetValue;class c{constructor(t,e){this.parent=t,this.scene=s(t),this.isShutdown=!1,this.setEventEmitter(a(e,"eventEmitter",!0)),this.parent&&this.parent===this.scene?this.scene.events.once("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this)}shutdown(t){this.isShutdown||(this.parent&&this.parent===this.scene?this.scene.events.off("shutdown",this.onSceneDestroy,this):this.parent&&this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onSceneDestroy(){this.destroy(!0)}onParentDestroy(t,e){this.destroy(e)}}Object.assign(c.prototype,i);const u=c;const h=function(t,e){if(this.scene.scale.autoRound&&(t=Math.floor(t),e=Math.floor(e)),this.width===t&&this.height===e)return this;var n=this.node.style;return n.width=`${t}px`,n.height=`${e}px`,this.updateSize(),this},l=Phaser.Utils.Objects.GetValue;const p=function(t,e,n){var i,o;for(var r in void 0===n&&(n={}),t)i=t[r],void 0!==(o=l(e,r,i[1]))&&(n[i[0]]=o);return n};const d=function(t,e,n){for(let i in n)e.addEventListener(i,(function(e){t.emit(n[i],t,e)}))};var f=function(t){t.stopPropagation()};const v=function(t){t.addEventListener("touchstart",f,!1),t.addEventListener("touchmove",f,!1),t.addEventListener("touchend",f,!1),t.addEventListener("mousedown",f,!1),t.addEventListener("mouseup",f,!1),t.addEventListener("mousemove",f,!1)},m=Phaser.GameObjects.DOMElement,y=Phaser.Utils.Objects.IsPlainObject,g=Phaser.Utils.Objects.GetValue;class _ extends m{constructor(t,e,n,i,o,r){var s;y(e)?(e=g(r=e,"x",0),n=g(r,"y",0),i=g(r,"width",0),o=g(r,"height",0)):y(i)&&(i=g(r=i,"width",0),o=g(r,"height",0)),void 0===r&&(r={});var a=g(r,"type","text");"textarea"===a?(s=document.createElement("textarea")).style.resize="none":(s=document.createElement("input")).type=a,p(E,r,s);var c=g(r,"style",void 0);c=p(k,r,c);var u=s.style;for(var h in r)h in E||h in k||h in u&&(c[h]=r[h]);c["box-sizing"]="border-box",super(t,e,n,s,c),this.type="rexInputText",this.resize(i,o),d(this,s,T),v(s),g(r,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",(function(){this._isFocused=!0}),this).on("blur",(function(){this._isFocused=!1}),this)}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,e){return void 0===t?this.node.select():this.node.setSelectionRange(t,e),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return void 0===t&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,e){return this.node.style[t]=e,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return void 0===t&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var b={resize:h};Object.assign(_.prototype,b);const E={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},k={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"],direction:["direction",void 0]},T={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",focus:"focus",blur:"blur",select:"select"},O=_,w=Phaser.GameObjects.Text;const S=function(t){return t instanceof w},C=Phaser.Utils.Objects.GetValue;var P=function(t){return t.hasOwnProperty("align")?t.align:t.hasOwnProperty("halign")?t.halign:"left"};const M=function(t,e){void 0===e&&(e={});var n=t.scene,i=t.style,o=C(e,"backgroundColor",i.backgroundColor);null===o&&(o="transparent"),e.text=C(e,"text",t.text),e.fontFamily=C(e,"fontFamily",i.fontFamily),e.fontSize=C(e,"fontSize",i.fontSize),e.color=C(e,"color",i.color),e.backgroundColor=o,e.direction=C(e,"rtl",i.rtl)?"rtl":"ltr",e.align=C(e,"align",P(i)),"rtl"===e.direction&&S(t)&&(e.align="right");var r=new O(n,t.x,t.y,C(e,"width",t.width),C(e,"height",t.height),e);return r.setOrigin(t.originX,t.originY),n.add.existing(r),r};const x=function(t){return t&&"function"==typeof t},R=Phaser.Utils.Objects.GetValue;var A=void 0;const N=class extends u{constructor(t){super(t,{eventEmitter:!1}),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0}shutdown(t){this.isShutdown||(this.close(),A===this&&(A=void 0),super.shutdown(t))}open(t,e){void 0!==A&&A.close(),A=this,x(t)&&(e=t,t=void 0),void 0===e&&(e=R(t,"onClose",void 0));var n=R(t,"onOpen",void 0),i=R(t,"onTextChanged",void 0);return this.inputText=M(this.parent,t).on("textchange",(function(t){var e=t.text;i?i(this.parent,e):this.parent.text=e}),this).setFocus(),this.parent.setVisible(!1),this.onClose=e,R(t,"enterClose",!0)&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,(function(){this.scene.input.once("pointerdown",this.close,this),n&&n(this.parent)}),[],this),this}close(){return A=void 0,this.inputText?(this.parent.setVisible(!0),this.inputText.destroy(),this.inputText=void 0,this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this):this}get isOpened(){return void 0!==this.inputText}get text(){return this.isOpened?this.inputText.text:this.parent.text}}},3505:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.initGame=void 0;var r=n(490),s=n(9206),a=n(1673),c=n(5080);n(6563),n(7771);var u=n(3355),h=Phaser.Core.Events.PAUSE,l=Phaser.Core.Events.RESUME,p={type:Phaser.WEBGL,parent:"game-player-wrap",canvas:document.getElementById("game-player-canvas"),disableContextMenu:!0,render:{clearBeforeRender:!0},scale:{width:1800,height:900,mode:Phaser.Scale.ScaleModes.WIDTH_CONTROLS_HEIGHT},plugins:{scene:[{key:"DragonBones",plugin:dragonBones.phaser.plugin.DragonBonesScenePlugin,mapping:"dragonbone"},{key:"AssetsLoader",plugin:c.AssetsLoader,mapping:"loader"}],global:[{key:"rexninepatchplugin",plugin:s,start:!0},{key:"rexButton",plugin:a,start:!0}]}},d=null;function f(){null!==d&&d.scale.updateBounds()}function v(){window.removeEventListener("react-scrolling",f),window.removeEventListener("destroyEngine",v),d&&(d.destroy(!1,!1),Phaser.Plugins.PluginCache.remove("DragonBones"),Phaser.Plugins.PluginCache.remove("SpinePlugin"),Phaser.Plugins.PluginCache.remove("AssetsLoader"),d=null)}function m(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Phaser.Utils.Objects.IsPlainObject;return t.reduce((function(t,e){return Object.keys(e).forEach((function(i){var o=t[i],r=e[i];Array.isArray(o)&&Array.isArray(r)?t[i]=o.concat.apply(o,r):n(o)&&n(r)?t[i]=m(o,r):t[i]=r})),t}),{})}e.initGame=function(t){return i(void 0,void 0,void 0,(function(){var e;return o(this,(function(i){switch(i.label){case 0:return[4,r.Utils.checkSupportedWebP()];case 1:return i.sent(),e=m(p,t||{}),d=new Phaser.Game(e),function(){if(null!==d){d.input.mouse.preventDefaultWheel=!1;var t=0;d.events.on(h,(function(){d&&(d.loop.resume(),t=u.setInterval((function(){d&&d.loop.step()}),1e3/60))})),d.events.on(l,(function(){d&&u.clearInterval(t)})),window.addEventListener("react-scrolling",f),window.addEventListener("destroyEngine",v)}}(),n.g.game=d,[2,d]}}))}))}},6871:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoMenu=e.DIRECTION=e.THEME_EVENT=e.BOARD_STYLES=e.MODE_STYLES=void 0;var r,s,a,c,u=Phaser.Input.Events.POINTER_DOWN,h=n(5080),l=n(8356),p=n(2804);!function(t){t[t.LIGHT=0]="LIGHT",t[t.DARK=1]="DARK"}(r=e.MODE_STYLES||(e.MODE_STYLES={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE"}(s=e.BOARD_STYLES||(e.BOARD_STYLES={})),function(t){t.MODE="changeMode",t.SOUND="changeSound",t.MUSIC="changeMusic"}(a=e.THEME_EVENT||(e.THEME_EVENT={})),function(t){t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL"}(c=e.DIRECTION||(e.DIRECTION={}));var d="core/menu-click",f=function(t){function e(e,n){void 0===n&&(n=l.Config.MENU);var i=t.call(this,e)||this;return i._atlasMisc=i.scene.textures.get("core/AtlasMisc"),i.background=i.scene.add.rexNinePatch(0,0,2,2),i.toggleMode=null,i.sound=null,i.soundMusic=null,i.modeStyle=r.LIGHT,i.direction=c.VERTICAL,i.boardStyle=s.ZERO,i.isSoundOn=!0,i.isSoundMusicOn=!0,i._listButton=[],i._listLines=[],i.background.setOrigin(0,0),i.add(i.background),n.toggleMode&&(i.toggleMode=new p.ToggleMode(i.scene),i.toggleMode.on(p.EventToggleMode.CHANGE_MODE,i.onChangeTheme,i),i.add(i.toggleMode),i._listButton.push(i.toggleMode)),n.sound&&(i.sound=i.scene.add.image(0,0,i._atlasMisc,"unmute"),i.add(i.sound),i.sound.setInteractive({useHandCursor:!0}),i.sound.on(u,i.onChangeSound,i),i.sound.setScrollFactor(0),i._listButton.push(i.sound)),n.music&&(i.soundMusic=i.scene.add.image(0,0,i._atlasMisc,"unmute_music"),i.add(i.soundMusic),i.soundMusic.setInteractive({useHandCursor:!0}),i.soundMusic.on(u,i.onChangeSoundMusic,i),i.soundMusic.setScrollFactor(0),i._listButton.push(i.soundMusic)),i.changeBoardStyle(i.boardStyle),i.sortAll(),i.onChangeMode(i.scene.game.device.os.desktop),i}return o(e,t),e.prototype.changeDirection=function(t){this.direction=t,this.sortAll()},e.prototype.interactiveMode=function(t){null!==this.toggleMode&&this.toggleMode.interactiveMode(t)},e.prototype.changeBoardStyle=function(t){this.boardStyle=t,this.boardStyle===s.ZERO?this.background.setTexture("core/AtlasNinePatch","board-0",[13*h.DPR,void 0,13*h.DPR],[13*h.DPR,void 0,13*h.DPR]):this.background.setTexture("core/AtlasNinePatch","board-1",[28*h.DPR,void 0,28*h.DPR],[19*h.DPR,void 0,19*h.DPR])},e.prototype.setTheme=function(t){this.modeStyle=t,null!==this.toggleMode&&(this.modeStyle===r.LIGHT?this.toggleMode.setLightMode():this.toggleMode.setDarkMode()),this.emit(a.MODE,this.modeStyle)},e.prototype._playSoundClick=function(){if(this.scene.game.cache.audio.get(d)){var t=this.scene.sound.get(d);null===t&&(t=this.scene.sound.add(d)),t.play()}},e.prototype.onChangeMode=function(t){null!==this.background&&this.background.setVisible(t);for(var e=0;e<this._listLines.length;e++)this._listLines[e].setVisible(t)},e.prototype.onChangeTheme=function(){this._playSoundClick(),this.modeStyle=this.modeStyle===r.LIGHT?r.DARK:r.LIGHT,this.emit(a.MODE,this.modeStyle)},e.prototype.sortAll=function(){var t={width:0,height:0};this.scene.game.device.os.desktop?this.sortButtonsDesktop(t):this.sortButtons(t),this.sortLines(t),this.background.resize(t.width,t.height)},e.prototype.sortButtons=function(t){for(var e=20*h.DPR,n=0;n<this._listButton.length;n++){var i=this._listButton[n];this.direction===c.VERTICAL?(i.setPosition(0,e+40*n*h.DPR),t.width=Math.max(i.displayWidth,t.width),t.height=i.y+e):(i.setPosition(e+40*n*h.DPR,0),t.width=i.x+e,t.height=Math.max(i.displayHeight+e,t.height))}this.direction===c.VERTICAL?this.background.setOrigin(.5,0):this.background.setOrigin(0,.5)},e.prototype.sortButtonsDesktop=function(t){for(var e=0;e<this._listButton.length;e++){var n=this._listButton[e];this.direction===c.VERTICAL?(n.setPosition(0,25+50*e),t.width=Math.max(n.displayWidth+15,t.width),t.height=Math.max(n.y+25,t.height)):(n.setPosition(25+50*e,0),t.width=Math.max(n.x+25,t.width),t.height=Math.max(n.displayHeight+15,t.height))}this.direction===c.VERTICAL?this.background.setOrigin(.5,0):this.background.setOrigin(0,.5)},e.prototype.sortLines=function(t){for(var e=0;e<this._listButton.length-1;e++){var n=this._listButton[e],i=this._listButton[e+1],o=this._listLines[e];void 0===o&&(o=this.scene.add.image(0,0,this._atlasMisc,"line-mode"),this.add(o),this._listLines.push(o)),this.direction===c.VERTICAL?(o.setPosition(0,(n.y+i.y)/2),o.setAngle(0),t.width=Math.max(o.width+15,t.width)):(o.setPosition((n.x+i.x)/2,0),o.setAngle(90),t.height=Math.max(o.height,t.height))}},e.prototype.onChangeSound=function(){this._playSoundClick(),this.isSoundOn=!this.isSoundOn,null!==this.sound&&(this.isSoundOn?(this.scene.sound.mute=!1,this.sound.setFrame("unmute",!0,!1)):(this.scene.sound.mute=!0,this.sound.setFrame("mute",!0,!1))),this.emit(a.SOUND,this.isSoundOn)},e.prototype.onChangeSoundMusic=function(){this._playSoundClick(),this.isSoundMusicOn=!this.isSoundMusicOn,null!==this.soundMusic&&(this.isSoundMusicOn?this.soundMusic.setFrame("unmute_music",!0,!1):this.soundMusic.setFrame("mute_music",!0,!1)),this.emit(a.MUSIC,this.isSoundMusicOn)},e}(Phaser.GameObjects.Container);e.CompoMenu=f},2804:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMode=e.EventToggleMode=void 0;var r,s=Phaser.GameObjects.Container,a=Phaser.Input.Events.POINTER_DOWN,c=Phaser.Input.Events.POINTER_OVER,u=Phaser.Input.Events.POINTER_OUT,h=n(6871),l=n(5080);!function(t){t.CHANGE_MODE="change-mode"}(r=e.EventToggleMode||(e.EventToggleMode={}));var p=function(t){function e(e){var n=t.call(this,e)||this;return n._atlasMisc=n.scene.textures.get("core/AtlasMisc"),n.background=n.scene.add.image(0,0,n._atlasMisc,"bg-toggle"),n.foam=n.scene.add.image(0,0,n._atlasMisc,"foam"),n.light=n.scene.add.image(0,0,n._atlasMisc,"light"),n.dark=n.scene.add.image(0,0,n._atlasMisc,"dark"),n.containerFoam=n.scene.add.container(0,0,[n.foam,n.light,n.dark]),n.tooltip=n.scene.add.text(0,0,"",{fontFamily:"Montserrat-SemiBold",fontSize:n.scene.game.device.os.desktop?"20px":10*l.DPR+"px",color:"#cc2b2b",stroke:"#fff",strokeThickness:2}),n._mode=h.MODE_STYLES.LIGHT,n.isInteractive=!0,n.background.setInteractive({useHandCursor:!0}),n.background.on(a,n.onClickBackground,n),n.background.on(c,n.onOverBackground,n),n.background.on(u,n.onOutBackground,n),n.background.setScrollFactor(0),n.foam.setScrollFactor(0),n.light.setScrollFactor(0),n.dark.setScrollFactor(0),n.width=n.background.width,n.height=n.background.height,n.dark.alpha=0,n.tooltip.setVisible(!1),n.tooltip.setOrigin(0,.5),n.tooltip.x=n.background.width/2+10,n.add([n.background,n.containerFoam,n.tooltip]),n.setLightMode(),n}return o(e,t),e.prototype.interactiveMode=function(t){this.isInteractive=t,this.background.setInteractive({useHandCursor:t}),this._setColorBackground()},e.prototype.onOverBackground=function(){this.isInteractive||(this.tooltip.setText("Mode can't be changed while round is in play"),this.tooltip.setVisible(!0),this._mode===h.MODE_STYLES.LIGHT?(this.tooltip.setColor("#cc2b2b"),this.tooltip.setStroke("#fff",1)):(this.tooltip.setColor("#fff"),this.tooltip.setStroke("#cc2b2b",1)))},e.prototype.onOutBackground=function(){this.tooltip.setVisible(!1)},e.prototype.onClickBackground=function(){this.isInteractive&&(this.emit(r.CHANGE_MODE),this.animatedToggle())},e.prototype.animatedToggle=function(){(this._mode===h.MODE_STYLES.LIGHT?h.MODE_STYLES.DARK:h.MODE_STYLES.LIGHT)===h.MODE_STYLES.LIGHT?this.setLightMode():this.setDarkMode()},e.prototype.setLightMode=function(){this._mode=h.MODE_STYLES.LIGHT,this._tweenAlpha(this.light,1),this._tweenAlpha(this.dark,0),this._tweenPosition(this.background.width/2-this.light.width/2-10),this._setColorBackground()},e.prototype.setDarkMode=function(){this._mode=h.MODE_STYLES.DARK,this._tweenAlpha(this.light,0),this._tweenAlpha(this.dark,1),this._tweenPosition(-this.background.width/2+this.dark.width/2+10),this._setColorBackground()},e.prototype._setColorBackground=function(){this.isInteractive?this._mode===h.MODE_STYLES.LIGHT?this.background.setTint(16777215):this.background.setTint(993091):this.background.setTint(13380395)},e.prototype._tweenPosition=function(t){this.scene.tweens.killTweensOf(this.containerFoam),this.scene.tweens.add({targets:this.containerFoam,x:t,duration:300})},e.prototype._tweenAlpha=function(t,e){this.scene.tweens.killTweensOf(t),this.scene.tweens.add({targets:t,alpha:e,duration:300})},e}(s);e.ToggleMode=p},8356:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0,e.Config={BASE_URL:"/assets/games/",WIDTH_DESIGN:1508,HEIGHT_DESIGN:787,MAX_WIDTH_QUERY:600,MENU:{toggleMode:!0,sound:!0,music:!0}}},6285:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EVENT_CORE=void 0,function(t){t.SWITCH_SCREEN_MODE="switch-screen-mode",t.DEVICE_DESKTOP="device-desktop",t.DEVICE_MOBILE="device-mobile",t.LOAD_FILE="load",t.LOADING_PROGRESS="progress",t.LOAD_COMPLETED="load-completed",t.CONNECTED_SERVER="connected-server"}(e.EVENT_CORE||(e.EVENT_CORE={}))},7771:()=>{"use strict";var t=Phaser.GameObjects.GameObject,e=Phaser.Geom.Point;t.prototype.getGlobalPosition=function(t){return this.parentContainer?this.parentContainer.toGlobal(this.x,this.y,t):this.toGlobal(this.x,this.y,t)},t.prototype.toGlobal=function(t,n,i){void 0===i&&(i=new e(t,n));var o=this.getWorldTransformMatrix();if(o){var r=o.getX(t,n),s=o.getY(t,n);i.setTo(r,s)}return i},t.prototype.toLocal=function(t,e,n,i){var o=n.toGlobal(t,e,i),r=new Phaser.Math.Vector2(o.x,o.y),s=this.getWorldTransformMatrix();return s&&s.applyInverse(o.x,o.y,r),r},t.prototype.getParentScale=function(){for(var t=1,e=this.parentContainer;e;)t*=e.scale,e=e.parentContainer;return t},t.prototype.getGlobalScale=function(){return this.getParentScale()*this.scale}},5080:function(t,e,n){"use strict";var i,o=n(5933),r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AssetsLoader=e.DPR=void 0;var s=Phaser.Loader.Events.COMPLETE,a=Phaser.Loader.Events.FILE_LOAD,c=n(490),u=Phaser.Loader.Events.PROGRESS,h=n(6285);e.DPR=Math.min(Math.round(window.devicePixelRatio),2);var l=function(t){function n(e,n){var i=t.call(this,e,n,"AssetsLoader")||this;return i.fonts={},i.i18n=null,i.assets={},i.spines=[],i.loaders={},i.postfix="",i.os="",i}return r(n,t),n.prototype.start=function(t){this.fonts=t.fonts||{},this.i18n=t.i18n||null,this.spines=t.spines||[],this.assets={images:t.images||[],sprites:t.sprites||[],audio:t.audio||[],bitmapFonts:t.bitmapFonts||[],jsons:t.jsons||[],animations:t.animations||[],meshes:t.meshes||[]},this.loaders={images:this._loadImage,sprites:this._loadSprite,audio:this._loadAudio,bitmapFonts:this._loadBitmapFont,jsons:this._loadJson,animations:this._loadAnimations,meshes:this._loadObj},this.game.device.os.desktop?(e.DPR=1,this.os="desktop/"):(this.os="mobile/",this.postfix="@"+e.DPR+"x")},n.prototype.load=function(){var t=this;return this._loadSpines().then((function(){return Promise.all([t._loadAssets(),t._loadFonts(),t._loadLanguage()])})).catch((function(){return Promise.resolve([])}))},n.prototype._emitLoad=function(t){this.game.events.emit(h.EVENT_CORE.LOAD_FILE,t)},n.prototype._emitProgress=function(t){this.game.events.emit(h.EVENT_CORE.LOADING_PROGRESS,t)},n.prototype._loadAssets=function(){var t=this;return new Promise((function(e){Object.keys(t.assets).forEach((function(e){t.assets[e].forEach((function(n){var i=n.split(".");t.loaders[e].call(t,i[0],i[1])}))})),t.scene.load.on(a,t._emitLoad,t),t.scene.load.on(u,t._emitProgress,t),t.scene.load.once(s,(function(){t.scene.load.off(a,t._emitLoad,t),t.scene.load.off(u,t._emitProgress,t),t.game.events.emit(h.EVENT_CORE.LOAD_COMPLETED),e()})),t.scene.load.start()}))},n.prototype._loadFonts=function(){var t=this;return 0===Object.keys(this.fonts).length?Promise.resolve():new Promise((function(e){o.load(Object.assign({},t.fonts,{active:function(){t.systems.events.emit("load"),e()}}))}))},n.prototype._loadImage=function(t){var e=this.getInfoExtra(t),n=e.subPathOs+"images/",i="".concat(n).concat(e.fileName).concat(this.postfix,".").concat(e.extension);this.scene.load.image(t,i)},n.prototype._loadSprite=function(t){var e=this.getInfoExtra(t),n=e.subPathOs+"sprites/",i="".concat(n).concat(e.fileName).concat(this.postfix,".").concat(e.extension),o="".concat(n).concat(e.fileName).concat(this.postfix,".json");this.scene.load.atlas(t,i,o)},n.prototype._loadAudio=function(t,e){var n=this.getInfoExtra(t),i=n.subPath+"audio/",o="".concat(i).concat(n.fileName,".").concat(e);this.scene.load.audio(t,o)},n.prototype._loadBitmapFont=function(t){var e=this.getInfoExtra(t),n=e.subPathOs+"bitmap/",i="".concat(n).concat(t).concat(this.postfix,".").concat(e.extension),o="".concat(n).concat(t).concat(this.postfix,".xml");this.scene.load.bitmapFont(t,i,o)},n.prototype._loadJson=function(t,e){var n="".concat("jsons/").concat(t,".").concat(e);this.scene.load.json(t,n)},n.prototype._loadObj=function(t){var e="".concat("meshes/").concat(t,".obj");this.scene.load.obj(t,e)},n.prototype._loadAnimations=function(t){var e=this.getInfoExtra(t),n=e.subPathOs+"animations/";this.scene.load.dragonbone(t,"".concat(n).concat(e.fileName,"_tex").concat(this.postfix,".").concat(e.extension),"".concat(n).concat(e.fileName,"_tex").concat(this.postfix,".json"),"".concat(n).concat(e.fileName,"_ske").concat(this.postfix,".dbbin"),void 0,void 0,{responseType:"arraybuffer"})},n.prototype._loadSpines=function(){var t=this;return new Promise((function(e){if(0===t.spines.length)return e();var n=t.scene.load.baseURL,i=t.scene.load.path;t.scene.load.setBaseURL(""),t.scene.load.setPath(n+i),t.scene.load.on(a,t._emitLoad,t),t.scene.load.once(s,(function(){t.scene.load.setBaseURL(n),t.scene.load.setPath(i),t.scene.load.off(a,t._emitLoad,t),e()})),t.spines.forEach((function(e){var n=e,i=/\(([^)]+)\)/.exec(e);null!==i&&(n=e.substring(0,i.index));var o=t.getInfoExtra(n),r=o.subPathOs+"spines/",s=[];if(null!==i)for(var a=Number(i[1]),c=1;c<=a;c++)s.push("".concat(r).concat(o.fileName,"-").concat(c).concat(t.postfix,".atlas"));else s.push("".concat(r).concat(o.fileName).concat(t.postfix,".atlas"));t.scene.load.spine(n,"".concat(r).concat(o.fileName).concat(t.postfix,".json"),s,!0)})),t.scene.load.start()}))},n.prototype._loadLanguage=function(){if(this.i18n){var t="assets/games/".concat(this.i18n.baseUrl,"/");return this.scene.i18n.initialize({backend:{loadPath:"".concat(t,"{{lng}}/{{ns}}.json")},ns:this.i18n.ns,defaultNS:this.i18n.ns[0],lng:this.i18n.lng,fallbackLng:"en"})}return Promise.resolve()},n.prototype.getInfoExtra=function(t){var e=c.Utils.isSupportedWebP?"webp":"png";if(t.indexOf("core")>-1){var n=t.split("/");return{fileName:n[n.length-1],extension:e,subPath:"../../core/",subPathOs:"../../core/"+this.os+e+"/",subPathFormat:"../../core/"}}return{fileName:t,extension:e,subPath:"",subPathOs:this.os+e+"/",subPathFormat:""}},n}(Phaser.Plugins.ScenePlugin);e.AssetsLoader=l},6517:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SoundManager=e.SOUND_NAME=void 0;var n=Phaser.Core.Events.PAUSE,i=Phaser.Core.Events.RESUME;!function(t){t.CLICK="core/menu-click"}(e.SOUND_NAME||(e.SOUND_NAME={}));var o=function(){function t(t){this.scene=t}return t.prototype.init=function(){var t=this;this.scene.game.events.on(n,(function(){t.scene.sound.mute=!0})),this.scene.game.events.on(i,(function(){t.scene.sound.mute=!1}))},t.prototype.play=function(t,e){var n=this.getSound(t,e);return n.play(),n},t.prototype.stop=function(t){var e=this.scene.sound.get(t);null!==e&&e.stop()},t.prototype.mute=function(t,e){var n=this.scene.sound.get(t);null!==n&&n.setMute(e)},t.prototype.seek=function(t,e){var n=this.scene.sound.get(t);null!==n&&n.setSeek(e)},t.prototype.getSound=function(t,e){if(null==e?void 0:e.multiInstance){for(var n=this.scene.sound.getAll(t),i=0,o=n.length;i<o;i++)if(!n[i].isPlaying)return n[i]}else{var r=this.scene.sound.get(t);if(null!==r)return r}return this.scene.sound.add(t,e)},t}();e.SoundManager=o},2149:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GeneralScene=void 0;var r=n(8356),s=Phaser.Scale.Events.RESIZE,a=n(5080),c=n(6285),u=function(t){function e(e){var n=t.call(this,Phaser.Utils.Objects.Extend(!0,{loader:{baseURL:r.Config.BASE_URL}},e))||this;return n.rootContainer=null,n.gameScale=1,n.isDesktopMode=!0,n._resizeListenerBind=n.forceResize.bind(n),n._isFirstChangeMode=!1,n}return o(e,t),e.prototype.init=function(){var t=this.scale.gameSize.width,e=this.scale.gameSize.height;this.rootContainer=this.add.container();var n=this.add.zone(0,0,2,2);n.setOrigin(.5),this.rootContainer.add(n),this.zone=this.add.zone(0,0,t,e),this.zone.setOrigin(0),this.sizer=this.add.zone(0,0,t*a.DPR,e*a.DPR),this.sizer.setOrigin(0),this.isMobile||this.sizer.setSize(t,e),this.events.on(Phaser.Scenes.Events.DESTROY,this.destroy,this),this.scale.on(s,this.onResize,this),this.isMobile&&(this.scale.scaleMode=Phaser.Scale.ScaleModes.NONE,window.addEventListener("resize",this._resizeListenerBind,!1))},Object.defineProperty(e.prototype,"isMobile",{get:function(){var t=this.game.device.os;return t.android||t.iPhone||t.windowsPhone},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return this.game.device.os.android},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIOS",{get:function(){return this.game.device.os.iOS},enumerable:!1,configurable:!0}),e.prototype.loadAssets=function(t){var e=this;this.loader.start(t),this.loader.load().then((function(){return e.initGame()}))},e.prototype.onResize=function(t,e,n,i,o){},e.prototype.destroy=function(){window.removeEventListener("resize",this._resizeListenerBind)},e.prototype.forceResize=function(){var t=a.DPR,e=Math.min(window.innerWidth,window.screen.width,this.scale.parent.clientWidth),n=Math.min(window.innerHeight,window.screen.height,this.scale.parent.clientHeight);e*=t,n*=t,null!==this.zone&&this.zone.setSize(e,n);var i=!this.isMobile;this.changeScaleRoot(e/t,n/t,i),this.changeSizer(e,n,i),this.changeStyleCanvas(e/t,n/t,i),this.scale.resize(e,n),this.raiseChangeMode(e,n,i)},e.prototype.raiseChangeMode=function(t,e,n){if(!this._isFirstChangeMode)return this._isFirstChangeMode=!0,void this._raiseChangeMode(n);n?this.isDesktopMode||this._raiseChangeMode(n):this.isDesktopMode&&this._raiseChangeMode(n)},e.prototype._raiseChangeMode=function(t){this.isDesktopMode=t,this.sys.events.emit(c.EVENT_CORE.SWITCH_SCREEN_MODE,this.isDesktopMode)},e.prototype.changeSizer=function(t,e,n){n?this.sizer.setSize(this.zone.width,this.zone.height):this.sizer.setSize(t,e)},e.prototype.changeScaleRoot=function(t,n,i){if(null!==this.rootContainer){var o=t/r.Config.WIDTH_DESIGN,s=n/r.Config.HEIGHT_DESIGN;e.rootScale=Math.min(Math.max(o,s),1),this.rootContainer.setScale(e.rootScale),this.gameScale=i?e.rootScale:1}},e.prototype.changeStyleCanvas=function(t,e,n){var i=t,o=e;this.scale.canvas.style.width=i+"px",this.scale.canvas.style.height=o+"px"},e.prototype.runOnDevice=function(){this.isMobile?this.events.emit(c.EVENT_CORE.DEVICE_MOBILE):this.events.emit(c.EVENT_CORE.DEVICE_DESKTOP)},e.rootScale=1,e}(Phaser.Scene);e.GeneralScene=u},6935:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetsManifest=void 0,e.AssetsManifest={images:["core/loading-logo"]}},3975:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LoadingScene=void 0;var r=n(2149),s=n(6935),a=n(6285),c=n(5080),u=function(t){function e(){var n=t.call(this,{key:e.SCENE_NAME})||this;return n.logo=null,n.backgroundScene=null,n.background=null,n.backgroundCircle=null,n.loadingBar=null,n.txtConnecting=null,n.maskCircle=null,n.objectTemp={current:0,end:0},n._tDrawMask=null,n._tLogo=null,n.radiusCircle=0,n.radiusProgress=0,n}return o(e,t),e.prototype.preload=function(){this.load.setPath("core/"),this.loadAssets(s.AssetsManifest)},e.prototype.initGame=function(){this.isMobile&&this.forceResize(),this.events.once(a.EVENT_CORE.DEVICE_DESKTOP,this.runOnDesktop,this),this.events.once(a.EVENT_CORE.DEVICE_MOBILE,this.runOnMobile,this),this.runOnDevice(),this.backgroundScene=this.add.graphics(),this.backgroundScene.fillStyle(993091),this.backgroundScene.fillRect(0,0,this.sizer.width,this.sizer.height),this.background=this.add.graphics(),this.background.fillStyle(1849700),this.background.fillCircle(this.sizer.width/2,this.sizer.height/2,this.radiusProgress),this.loadingBar=this.add.graphics(),this.loadingBar.fillStyle(16777215),this.loadingBar.fillCircle(0,0,this.radiusProgress),this.loadingBar.setPosition(this.sizer.width/2,this.sizer.height/2),this.maskCircle=this.make.graphics({},!1),this.maskCircle.rotation=-Math.PI/2,this.loadingBar.setMask(this.maskCircle.createGeometryMask()),this.maskCircle.setPosition(this.loadingBar.x,this.loadingBar.y),this.backgroundCircle=this.add.graphics(),this.backgroundCircle.fillStyle(993091),this.backgroundCircle.fillCircle(this.sizer.width/2,this.sizer.height/2,this.radiusCircle),this.logo=this.add.image(this.sizer.width/2,this.sizer.height/2,"core/loading-logo"),this.game.events.on(a.EVENT_CORE.LOADING_PROGRESS,this.updateProgress,this),this.game.events.on(a.EVENT_CORE.LOAD_COMPLETED,this.startNextScene,this),this.tweenRotation(),this.loadNextScene()},e.prototype.updateProgress=function(t){var e=this;null!==this._tDrawMask&&this._tDrawMask.stop(),this.objectTemp.current=this.objectTemp.end;var n=t*Math.PI*2;this._tDrawMask=this.tweens.add({targets:this.objectTemp,end:n,duration:300,onUpdate:function(){null!==e.maskCircle&&e.maskCircle.slice(0,0,e.radiusProgress,e.objectTemp.current,e.objectTemp.end).fillPath()}})},e.prototype.tweenRotation=function(){null!==this.logo&&(this._tLogo=this.tweens.add({targets:this.logo,duration:3e3,rotation:2*Math.PI,repeat:-1}))},e.prototype.loadNextScene=function(){var t=this.game.scene,e=t.getAt(1);e&&(t.start(e),t.bringToTop(this))},e.prototype.startNextScene=function(){this.destroyObjects();var t=this.sizer.width/2,e=this.sizer.height/2;null!==this.logo&&(t=this.logo.x,e=this.logo.y+this.logo.height/2+30),this.txtConnecting=this.add.text(t,e,"Connecting to server...",{fontSize:this.isMobile?16*c.DPR+"px":"24px",fontFamily:"Montserrat-SemiBold",color:"#fff",fontStyle:"italic",stroke:"#000",strokeThickness:2}),this.txtConnecting.setOrigin(.5),this.game.events.once(a.EVENT_CORE.CONNECTED_SERVER,this.onConnectedServer,this)},e.prototype.onConnectedServer=function(){null!==this._tLogo&&(this._tLogo.stop(),this._tLogo=null),null!==this.logo&&(this.logo.destroy(!0),this.logo=null),null!==this.txtConnecting&&(this.txtConnecting.destroy(!0),this.txtConnecting=null),this.destroy(),this.game.scene.stop(this),this.game.scene.remove(e.SCENE_NAME)},e.prototype.destroyObjects=function(){null!==this._tDrawMask&&(this._tDrawMask.stop(),this._tDrawMask=null),null!==this.backgroundScene&&(this.backgroundScene.destroy(!0),this.backgroundScene=null),null!==this.background&&(this.background.destroy(!0),this.background=null),null!==this.backgroundCircle&&(this.backgroundCircle.destroy(!0),this.backgroundCircle=null),null!==this.maskCircle&&(this.maskCircle.destroy(!0),this.maskCircle=null)},e.prototype.runOnDesktop=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.radiusCircle=160,this.radiusProgress=197},e.prototype.runOnMobile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.radiusCircle=70*c.DPR,this.radiusProgress=90*c.DPR},e.SCENE_NAME="sceneLoading",e}(r.GeneralScene);e.LoadingScene=u},423:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbsSocketController=e.EVENT_NAME=void 0,function(t){t.OPEN="SOCKET_OPEN",t.ERROR="SOCKET_ERROR",t.CLOSE="SOCKET_CLOSE"}(e.EVENT_NAME||(e.EVENT_NAME={}));var n=function(){function t(){this.listSocket=[],this.eventsObservable=new Phaser.Events.EventEmitter}return t.prototype.getSocket=function(t){if(t)for(var e=0,n=this.listSocket.length;e<n;e++){var i=this.listSocket[e];if(i.key===t)return i.socket}return null},t.prototype.addSocket=function(t,e){for(var n=0,i=this.listSocket.length;n<i;n++){var o=this.listSocket[n];if(o.key===t)return void(o.socket=e)}this.listSocket.push({key:t,socket:e})},t.prototype.removeSocket=function(t){for(var e=0,n=this.listSocket.length;e<n;e++)if(this.listSocket[e].key===t){Phaser.Utils.Array.SpliceOne(this.listSocket,e);break}},t.prototype.closeSocket=function(t){console.error("close socket "+t);var e=this.getSocket(t);if(e)try{e.close(),this.removeSocket(t)}catch(t){console.error(t)}return e},t.prototype.isConnected=function(t){return!1},t.prototype.initSocket=function(t,e){void 0===e&&(e="")},t.prototype.sendMessage=function(t,e){},t}();e.AbsSocketController=n},9323:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SocketController=e.EVENT_SOCKET_CORE=void 0;var i=n(7304),o=n(423);!function(t){t.ERROR_REQUEST="socket-error"}(e.EVENT_SOCKET_CORE||(e.EVENT_SOCKET_CORE={}));var r=function(){function t(t,e,n){this.receiveController=t,this.webSocketController=null,this.listSocket=[],e&&this.initSocket(e,n)}return t.prototype.hasSocket=function(t){for(var e=0,n=this.listSocket.length;e<n;e++){if(this.listSocket[e]===t)return!0}return!1},t.prototype.isConnected=function(t){return null!==this.webSocketController&&this.webSocketController.isConnected(t)},t.prototype.initSocket=function(t,e){void 0===e&&(e=""),this.initWebSocket(t,e),this.addSocket(t)},t.prototype.addSocket=function(t){this.hasSocket(t)||this.listSocket.push(t)},t.prototype.removeSocket=function(t){for(var e=0,n=this.listSocket.length;e<n;e++)if(this.listSocket[e]===t){Phaser.Utils.Array.SpliceOne(this.listSocket,e);break}},t.prototype.initWebSocket=function(t,e){void 0===e&&(e=""),null===this.webSocketController&&(this.webSocketController=new i.WebSocketController,this.webSocketController.eventsObservable.on(o.EVENT_NAME.OPEN,this.receiveController.onConnected,this.receiveController),this.webSocketController.eventsObservable.on(o.EVENT_NAME.CLOSE,this.receiveController.onClosed,this.receiveController),this.webSocketController.eventsObservable.on(o.EVENT_NAME.ERROR,this.receiveController.onError,this.receiveController));var n=this.webSocketController.initSocket(t,e);this.receiveController.updateSocket(n)},t.prototype.closeSocket=function(t){null!==this.webSocketController&&this.webSocketController.closeSocket(t),this.removeSocket(t)},t.prototype.closeAllSocket=function(){for(;this.listSocket.length>0;){var t=this.listSocket[0];this.closeSocket(t)}},t.prototype.sendMessage=function(t,e){null!==this.webSocketController&&this.webSocketController.sendMessage(t,e)},t}();e.SocketController=r},7304:function(t,e,n){"use strict";var i,o=n(9998),r=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketController=void 0;var s=n(423),a=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.initSocket=function(t,e){var n=o(t,{reconnectionDelayMax:1e4,auth:{token:"Bearer ".concat(e)}});return n.on("connect",this._onSocketOpen.bind(this)),n.on("disconnect",this._onSocketClose.bind(this)),n.on("error",this._onSocketError.bind(this)),this.addSocket(t,n),n},e.prototype.sendMessage=function(t,e){var n=this.getSocket(e);null!==n&&n.connected&&n.send(t.buffer)},e.prototype._onSocketOpen=function(){this.eventsObservable.emit(s.EVENT_NAME.OPEN)},e.prototype._onSocketClose=function(){this.eventsObservable.emit(s.EVENT_NAME.CLOSE)},e.prototype._onSocketError=function(){this.eventsObservable.emit(s.EVENT_NAME.ERROR)},e.prototype.isConnected=function(t){var e=this.getSocket(t);return null!==e&&e.connected},e}(s.AbsSocketController);e.WebSocketController=a},1221:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIWidget=e.VERTICAL_MODE=e.HORIZONTAL_MODE=void 0;var i,o,r=Phaser.Scale.Events.RESIZE,s=n(7101),a=n(9627),c=n(490);!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.CENTER=2]="CENTER",t[t.RIGHT=3]="RIGHT",t[t.STRETCH=4]="STRETCH",t[t.TEST=5]="TEST"}(i=e.HORIZONTAL_MODE||(e.HORIZONTAL_MODE={})),function(t){t[t.NONE=0]="NONE",t[t.TOP=1]="TOP",t[t.CENTER=2]="CENTER",t[t.BOTTOM=3]="BOTTOM",t[t.STRETCH=4]="STRETCH",t[t.TEST=5]="TEST"}(o=e.VERTICAL_MODE||(e.VERTICAL_MODE={}));var u=function(){function t(t,e,n,a,c,u,h){void 0===n&&(n=i.NONE),void 0===a&&(a=0),void 0===c&&(c=o.NONE),void 0===u&&(u=0),void 0===h&&(h=!0),this.object=t,this.modeMap=new Map([["LeftTop",s.ALIGN_CONST.LEFT_TOP],["LeftCenter",s.ALIGN_CONST.LEFT_CENTER],["LeftBottom",s.ALIGN_CONST.LEFT_BOTTOM],["CenterTop",s.ALIGN_CONST.TOP_CENTER],["CenterCenter",s.ALIGN_CONST.CENTER],["CenterBottom",s.ALIGN_CONST.BOTTOM_CENTER],["RightTop",s.ALIGN_CONST.RIGHT_TOP],["RightCenter",s.ALIGN_CONST.RIGHT_CENTER],["RightBottom",s.ALIGN_CONST.RIGHT_BOTTOM]]),this.target=null,this._horizontalAlignment={mode:i.NONE,left:0,right:0},this._verticalAlignment={mode:o.NONE,top:0,bottom:0},this._isGlobal=!0,this._isEnableWidget=!0,t.uiWidget=this,e&&(this.target=e),this._isGlobal=h,this._horizontalAlignment.mode=n,this._setHorizontalOffset(a),this._verticalAlignment.mode=c,this._setVerticalOffset(u),this.object.scene.scale.on(r,this.onResize,this),this.updateAlignPosition()}return t.prototype._setHorizontalOffset=function(t){Array.isArray(t)?(this._horizontalAlignment.left=t[0],this._horizontalAlignment.right=t[1]):this._horizontalAlignment.left=t},t.prototype._setVerticalOffset=function(t){Array.isArray(t)?(this._verticalAlignment.top=t[0],this._verticalAlignment.bottom=t[1]):this._verticalAlignment.top=t},t.prototype.setHorizontal=function(t,e){this._horizontalAlignment.mode=t,this._setHorizontalOffset(e),this.updateAlignPosition()},t.prototype.setVertical=function(t,e){this._verticalAlignment.mode=t,this._setVerticalOffset(e),this.updateAlignPosition()},t.prototype.setTarget=function(t){this.target=t,this.updateAlignPosition()},t.prototype.enableWidget=function(t){void 0===t&&(t=!0),this._isEnableWidget!==t&&(this._isEnableWidget=t,t?(this.object.scene.scale.on(r,this.onResize,this),this.updateAlignPosition()):this.object.scene.scale.off(r,this.onResize,this))},t.prototype.onResize=function(){this.updateAlignPosition()},t.prototype.updateAlignPosition=function(){if(this._isEnableWidget){var t=this.target||this.object.parentContainer,e=this.getFunction(this._horizontalAlignment.mode,this._verticalAlignment.mode);if(e){var n=this._horizontalAlignment.left,r=this._horizontalAlignment.right,c=this._verticalAlignment.top,u=this._verticalAlignment.bottom,h=new Phaser.Geom.Rectangle;t&&"function"==typeof t.getBounds&&t.getBounds(h),n=this.convertPercent(n,h.width),r=this.convertPercent(r,h.width),c=this.convertPercent(c,h.height),u=this.convertPercent(u,h.height);var l=0,p=0;this._horizontalAlignment.mode===i.STRETCH&&(l=h.width-(n+r),this.object instanceof RexPlugins.GameObjects.NinePatch?this.object.resize(l,this.object.height):this.object.displayWidth=l),this._verticalAlignment.mode===o.STRETCH&&(p=h.height-(c+u),this.object instanceof RexPlugins.GameObjects.NinePatch?this.object.resize(this.object.width,p):this.object.displayHeight=p),(0,s.QuickSet)(this.object,t,e,n,c,this._isGlobal)}else{n=this._horizontalAlignment.left,c=this._verticalAlignment.top;(0,a.TopLeft)(this.object,t,n,c,this._isGlobal)}}},t.prototype.getFunction=function(t,e){var n="";switch(t){case i.LEFT:case i.STRETCH:n="Left";break;case i.CENTER:n="Center";break;case i.RIGHT:n="Right"}var r="";switch(e){case o.TOP:case o.STRETCH:r="Top";break;case o.CENTER:r="Center";break;case o.BOTTOM:r="Bottom"}var s=n+r;return this.modeMap.get(s)},t.prototype.convertPercent=function(t,e){return"string"==typeof t?c.Utils.convertStringPercent(t,e):t},t}();e.UIWidget=u},6563:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1221);Phaser.GameObjects.GameObject.prototype.addUIWidget=function(t,e,n,o,r,s){return void 0===e&&(e=i.HORIZONTAL_MODE.NONE),void 0===n&&(n=0),void 0===o&&(o=i.VERTICAL_MODE.NONE),void 0===r&&(r=0),void 0===s&&(s=!0),new i.UIWidget(this,t,e,n,o,r,s)}},9834:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetBounds=e.GetCenterY=e.GetCenterX=e.GetBottom=e.GetTop=e.GetRight=e.GetLeft=e.SetCenterY=e.SetCenterX=e.SetCenter=e.SetBottom=e.SetTop=e.SetRight=e.SetLeft=void 0;var n=Phaser.Geom.Rectangle,i=Phaser.GameObjects.Container,o=new n(0,0,0,0);function r(t,e){var n=a(t),i=c(t),o=h(t);return t.x=(e+n.width*(i-.5))/o,t}function s(t,e){var n=a(t),i=u(t),o=h(t);return t.y=(e+n.height*(i-.5))/o,t}function a(t,e){if(void 0===e&&(e=!0),"function"==typeof t.getBounds)t.getBounds(o);else{var n=h(t);o.setTo(0,0,t.width*n,t.height*n)}if(!e){var i=c(t),r=u(t);o.x=t.x-o.width*(1-i),o.y=t.y-o.height*(1-r)}return o}function c(t){var e=t.originX;if(t instanceof i){var n=t.getAt(0);n&&(e=n.originX)}return e}function u(t){var e=t.originY;if(t instanceof i){var n=t.getAt(0);n&&(e=n.originY)}return e}function h(t){return null===t.parentContainer?1:t.getGlobalScale()}e.SetLeft=function(t,e){var n=a(t),i=c(t),o=h(t);return t.x=(e+n.width*i)/o,t},e.SetRight=function(t,e){var n=a(t),i=c(t),o=h(t);return t.x=(e-n.width*(1-i))/o,t},e.SetTop=function(t,e){var n=a(t),i=u(t),o=h(t);return t.y=(e+n.height*i)/o,t},e.SetBottom=function(t,e){var n=a(t),i=u(t),o=h(t);return t.y=(e-n.height*(1-i))/o,t},e.SetCenter=function(t,e,n){return r(t,e),s(t,n),t},e.SetCenterX=r,e.SetCenterY=s,e.GetLeft=function(t,e){return a(t,e).left},e.GetRight=function(t,e){return a(t,e).right},e.GetTop=function(t,e){return a(t,e).top},e.GetBottom=function(t,e){return a(t,e).bottom},e.GetCenterX=function(t,e){return a(t,e).centerX},e.GetCenterY=function(t,e){return a(t,e).centerY},e.GetBounds=a},7101:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSet=e.ALIGN_CONST=void 0;var i,o=n(9627);!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_CENTER=1]="TOP_CENTER",t[t.TOP_RIGHT=2]="TOP_RIGHT",t[t.LEFT_TOP=3]="LEFT_TOP",t[t.LEFT_CENTER=4]="LEFT_CENTER",t[t.LEFT_BOTTOM=5]="LEFT_BOTTOM",t[t.CENTER=6]="CENTER",t[t.RIGHT_TOP=7]="RIGHT_TOP",t[t.RIGHT_CENTER=8]="RIGHT_CENTER",t[t.RIGHT_BOTTOM=9]="RIGHT_BOTTOM",t[t.BOTTOM_LEFT=10]="BOTTOM_LEFT",t[t.BOTTOM_CENTER=11]="BOTTOM_CENTER",t[t.BOTTOM_RIGHT=12]="BOTTOM_RIGHT"}(i=e.ALIGN_CONST||(e.ALIGN_CONST={}));var r=[];r[i.BOTTOM_CENTER]=o.BottomCenter,r[i.BOTTOM_LEFT]=o.BottomLeft,r[i.BOTTOM_RIGHT]=o.BottomRight,r[i.CENTER]=o.Center,r[i.LEFT_CENTER]=o.LeftCenter,r[i.RIGHT_CENTER]=o.RightCenter,r[i.TOP_CENTER]=o.TopCenter,r[i.TOP_LEFT]=o.TopLeft,r[i.TOP_RIGHT]=o.TopRight,r[i.LEFT_BOTTOM]=r[i.BOTTOM_LEFT],r[i.LEFT_TOP]=r[i.TOP_LEFT],r[i.RIGHT_BOTTOM]=r[i.BOTTOM_RIGHT],r[i.RIGHT_TOP]=r[i.TOP_RIGHT],e.QuickSet=function(t,e,n,i,o,s){return r[n](t,e,i,o,s)}},9627:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TopRight=e.TopLeft=e.TopCenter=e.RightCenter=e.LeftCenter=e.Center=e.BottomRight=e.BottomCenter=e.BottomLeft=void 0;var i=n(9834);e.BottomLeft=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetLeft)(t,(0,i.GetLeft)(e,r)+n),(0,i.SetBottom)(t,(0,i.GetBottom)(e,r)-o),t},e.BottomCenter=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetCenterX)(t,(0,i.GetCenterX)(e,r)+n),(0,i.SetBottom)(t,(0,i.GetBottom)(e,r)-o),t},e.BottomRight=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetRight)(t,(0,i.GetRight)(e,r)-n),(0,i.SetBottom)(t,(0,i.GetBottom)(e,r)-o),t},e.Center=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetCenter)(t,(0,i.GetCenterX)(e,r)+n,(0,i.GetCenterY)(e,r)+o),t},e.LeftCenter=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetLeft)(t,(0,i.GetLeft)(e,r)+n),(0,i.SetCenterY)(t,(0,i.GetCenterY)(e,r)+o),t},e.RightCenter=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetRight)(t,(0,i.GetRight)(e,r)-n),(0,i.SetCenterY)(t,(0,i.GetCenterY)(e,r)+o),t},e.TopCenter=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetCenterX)(t,(0,i.GetCenterX)(e,r)+n),(0,i.SetTop)(t,(0,i.GetTop)(e,r)+o),t},e.TopLeft=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetLeft)(t,(0,i.GetLeft)(e,r)+n),(0,i.SetTop)(t,(0,i.GetTop)(e,r)+o),t},e.TopRight=function(t,e,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!0),(0,i.SetRight)(t,(0,i.GetRight)(e,r)-n),(0,i.SetTop)(t,(0,i.GetTop)(e,r)+o),t}},490:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=void 0;var o=function(){function t(){}return t.dispatchCustomEvent=function(t,e){window.dispatchEvent(new CustomEvent(t,e))},t.convertStringPercent=function(t,e){return parseInt(t.replace("%",""))/100*e},t.randomColor=function(){return Number("0x"+Math.floor(16777215*Math.random()).toString(16))},t.checkSupportedWebP=function(){return n(this,void 0,void 0,(function(){var e,n;return i(this,(function(i){switch(i.label){case 0:if(!window.createImageBitmap)return t.isSupportedWebP=!1,[2];e="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEAAQAcJaQAA3AA/v3AgAA=",i.label=1;case 1:return i.trys.push([1,5,,6]),[4,fetch(e)];case 2:return[4,i.sent().blob()];case 3:return n=i.sent(),[4,createImageBitmap(n)];case 4:return i.sent(),t.isSupportedWebP=!0,[3,6];case 5:return i.sent(),t.isSupportedWebP=!1,[3,6];case 6:return[2]}}))}))},t.isSupportedWebP=!0,t}();e.Utils=o},3402:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AssetsManifest=e.SoundName=e.AtlasName=void 0;var i,o=n(8985);!function(t){!function(t){t.name="AtlasDiceMisc",function(t){t.base="base",t["base-bell"]="base-bell",t.bell="bell",t["bg-table"]="bg-table",t["bg-thumb"]="bg-thumb",t.blue="blue",t.dice="dice",t.lid="lid",t.multiplier="multiplier",t.star="star"}(t.Frame||(t.Frame={}))}(t.AtlasDiceMisc||(t.AtlasDiceMisc={})),function(t){t.name="AtlasDiceNinePatch",function(t){t["bg-table"]="bg-table",t["background-slider"]="background-slider"}(t.Frame||(t.Frame={}))}(t.AtlasDiceNinePatch||(t.AtlasDiceNinePatch={}))}(i=e.AtlasName||(e.AtlasName={})),function(t){t.background1="background-1",t.background2="background-2",t.clap="clap",t.coin="coin"}(e.SoundName||(e.SoundName={})),e.AssetsManifest={images:[],sprites:[i.AtlasDiceMisc.name,"core/AtlasCoinsAnimate","core/AtlasMisc","core/AtlasNinePatch"],fonts:{custom:{families:["Montserrat-Bold","Montserrat-SemiBold"],urls:[o.Config.BASE_URL+o.Config.PATH_ASSETS+"fonts/fonts.css"]}},animations:["char"],meshes:[],audio:["background-1.mp3","background-2.mp3","clap.mp3","coin.mp3","core/menu-click.mp3"]}},9646:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoBoard=void 0;var r=n(5230),s=n(6871),a=n(5080),c=n(3402),u=n(2038),h=Phaser.GameObjects.Container,l=n(717),p=c.AtlasName.AtlasDiceMisc,d=n(7121),f=n(1997),v=function(t){function e(e){var n=t.call(this,e)||this;return n.diceScene=e,n._background=n.scene.make.rexNinePatch({x:0,y:0,width:n.diceScene.sizer.width,height:n.diceScene.sizer.height/2}),n.compoCharacter=new r.CompoCharacter(n.diceScene),n.compoMultiplier=new u.CompoMultiplier(n.diceScene),n.compoRatio=new l.CompoRatio(n.diceScene,n),n.compoBell=new d.CompoBell(n.diceScene),n.compoDice=new f.CompoDice(n.diceScene),n._background.setOrigin(0),n.add(n._background),n.compoCharacter.changeState(r.ANIMATION_NAME.IDLE),n.compoMultiplier.on(u.EventMultiplier.MULTIPLIER,n.onUpdateMultiplier,n),n.compoRatio.on(l.EventRatio.ROLL_OVER,n.onUpdateRollOver,n),n.compoRatio.on(l.EventRatio.MULTIPLIER_CHANGE,n.onMultiplierChange,n),n.add([n.compoBell,n.compoCharacter,n.compoRatio,n.compoDice,n.compoMultiplier]),n}return o(e,t),e.prototype.onConnected=function(t){this.compoCharacter.hello((function(){}))},e.prototype.onGameStarted=function(){var t=this;this.compoCharacter.pressBell((function(){t.compoBell.playEffectPressed(),t.compoDice.startRoll(t.compoMultiplier.getBoundingBar())}))},e.prototype.onGameResult=function(t){var e=this;t&&this.compoMultiplier.once(u.EventMultiplier.WIN_LOSE_COMPLETED,(function(){return e.onPlayerWin(5)})),this.compoMultiplier.showResult(t)},e.prototype.onPlayerWin=function(t){null!==this.compoCharacter&&this.compoCharacter.visible&&this.compoCharacter.clap(5)},e.prototype.onUpdateMultiplier=function(t){this.compoRatio.onUpdateMultiplier(t),this.compoDice.onUpdateMultiplier(t)},e.prototype.onUpdateRollOver=function(t){this.compoMultiplier.updateRollOver(t)},e.prototype.onMultiplierChange=function(t){this.compoMultiplier.onMultiplierChange(t),this.compoDice.onUpdateMultiplier(t)},e.prototype.reset=function(){this.compoDice.reset(),this.compoMultiplier.reset()},e.prototype.runLightMode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._updateBackground(t[0]),this.compoCharacter.setVisible(!0),this.compoBell.setVisible(!0),this.compoMultiplier.runLightMode(),this.diceScene.isMobile?(Phaser.Display.Align.In.TopCenter(this.compoCharacter,this._background,0,-5*a.DPR),Phaser.Display.Align.In.TopCenter(this.compoBell,this._background,0,-35*a.DPR),Phaser.Display.Align.In.BottomCenter(this.compoMultiplier,this._background,0,-40*a.DPR),Phaser.Display.Align.In.BottomCenter(this.compoRatio,this._background,0,30*a.DPR)):(Phaser.Display.Align.In.TopCenter(this.compoCharacter,this._background,0,-5),Phaser.Display.Align.In.TopCenter(this.compoBell,this._background,0,-50),Phaser.Display.Align.In.Center(this.compoMultiplier,this._background,0,-5),Phaser.Display.Align.In.BottomCenter(this.compoRatio,this._background,0,-100)),this.compoDice.runLightMode(this.compoMultiplier.getBoundingBar()),this.compoMultiplier.updateMultiplierText()},e.prototype.runDarkMode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._updateBackground(t[0]),this.compoCharacter.setVisible(!1),this.compoBell.setVisible(!1),this.compoMultiplier.runDarkMode(),this.diceScene.isMobile?(Phaser.Display.Align.In.Center(this.compoMultiplier,this._background,0,60*a.DPR),Phaser.Display.Align.In.BottomCenter(this.compoRatio,this._background,0,30*a.DPR)):(Phaser.Display.Align.In.Center(this.compoMultiplier,this._background,0,0),Phaser.Display.Align.In.Center(this.compoRatio,this._background,0,120)),this.compoDice.runDarkMode(this.compoMultiplier.getBoundingBar()),this.compoMultiplier.updateMultiplierText()},e.prototype.runOnDesktop=function(t){this._background.setTexture(p.name,p.Frame["bg-table"],[41,void 0,41],[42,void 0,10]),this._updateBackgroundDesktop(),this.compoMultiplier.runOnDesktop(),this.compoMultiplier.updateMultiplierText(),this.compoRatio.runOnDesktop(),this.compoRatio.init(),this.compoDice.runOnDesktop()},e.prototype.runOnMobile=function(t){this._background.setTexture(p.name,p.Frame["bg-table"],[13*a.DPR,void 0,13*a.DPR],[8*a.DPR,void 0,8*a.DPR]),this._updateBackground(t),this._updateAlignment(),this.compoMultiplier.runOnMobile(),this.compoRatio.runOnMobile(t),this.compoRatio.init(),this.compoDice.runOnMobile()},e.prototype._updateAlignment=function(){null!==this.compoCharacter&&this.compoCharacter.uiWidget&&(this.compoCharacter.uiWidget.updateAlignPosition(),this.compoCharacter.setScaleCharacter(this.diceScene.gameScale))},e.prototype._updateBackground=function(t){if(this.diceScene.isMobile)if(this.diceScene.mode===s.MODE_STYLES.LIGHT){var e=158*t.scaleY*a.DPR;this._background.setPosition(0,e);var n=t.displayHeight-e;this._background.resize(this.diceScene.sizer.width,Math.max(n,140*a.DPR))}else{this._background.setPosition(0);n=Math.max(t.displayHeight,297*a.DPR);this._background.resize(this.diceScene.sizer.width,n)}else this._updateBackgroundDesktop()},e.prototype._updateBackgroundDesktop=function(){if(this.diceScene.mode===s.MODE_STYLES.LIGHT){var t=this.diceScene.sizer.height-450;this._background.resize(this.diceScene.sizer.width,t+20),this._background.setPosition(0,450)}else this._background.setPosition(0,-50),this._background.resize(this.diceScene.sizer.width,this.diceScene.sizer.height+60)},e}(h);e.CompoBoard=v},7121:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoBell=void 0;var r=Phaser.GameObjects.Container,s=n(3402).AtlasName.AtlasDiceMisc,a=function(t){function e(e){var n=t.call(this,e)||this;return n.diceScene=e,n.baseBell=n.diceScene.add.image(0,0,s.name,s.Frame["base-bell"]),n.bell=n.diceScene.add.image(0,0,s.name,s.Frame.bell),n.bell.setOrigin(.5,1),n.add([n.baseBell,n.bell]),n}return o(e,t),e.prototype.playEffectPressed=function(){this.diceScene.tweens.add({targets:this.bell,scaleY:.3,duration:80,yoyo:!0})},e}(r);e.CompoBell=a},5230:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoCharacter=e.ANIMATION_NAME=void 0;var r,s,a=Phaser.GameObjects.Container,c=Phaser.Geom.Point,u=n(3402);!function(t){t.HELLO="hello",t.IDLE="idle",t.WIN="win",t.CLAP="clap",t.CHANGE_CARD="change-card",t.PRESS_BELL="press-bell"}(r=e.ANIMATION_NAME||(e.ANIMATION_NAME={})),function(t){t.CHANGE_CARD="changeCard",t.THROW_COINS="throwCoins",t.RING_BELL="ringBell"}(s||(s={}));var h=function(t){function e(e){var n=t.call(this,e)||this;return n.hiloScene=e,n.character=null,n.callbackHello=null,n.callbackClap=null,n.callbackChangeCard=null,n.callbackThrowCoins=null,n.callbackPressBell=null,n}return o(e,t),e.prototype.setScaleCharacter=function(t){null!==this.character&&this.character.setScale(t)},e.prototype.changeState=function(t,e){var n=this;void 0===e&&(e=-1),null===this.character&&(this.character=this.scene.add.armature("mascot","char"),this.character.on(dragonBones.EventObject.COMPLETE,(function(t){t.animationState.name===r.CLAP?(n.changeState(r.IDLE),null!==n.callbackClap&&n.callbackClap()):t.animationState.name===r.WIN?n.clap(5):t.animationState.name===r.HELLO&&null!==n.callbackHello&&n.callbackHello()})),this.character.on(dragonBones.EventObject.FRAME_EVENT,(function(t){if(t.name===s.CHANGE_CARD)null!==n.callbackChangeCard&&n.callbackChangeCard();else if(t.name===s.RING_BELL)null!==n.callbackPressBell&&n.callbackPressBell();else if(t.name===s.THROW_COINS){var e=new c(n.hiloScene.sizer.width/2,n.hiloScene.sizer.height/2);t.bone&&(e.x=t.bone.global.x+n.x,e.y=t.bone.global.y+n.y),null!==n.callbackThrowCoins&&n.callbackThrowCoins(e)}})),this.character.on(dragonBones.EventObject.SOUND_EVENT,(function(t){"clap"===t.name&&n.hiloScene.soundManager.play(u.SoundName.clap,{multiInstance:!1,volume:.5})})),this.add(this.character)),this.character.animation.play(t,e)},e.prototype.hello=function(t){this.callbackHello=t,this.changeState(r.HELLO,1)},e.prototype.changeCard=function(t){this.callbackChangeCard=t,this.changeState(r.CHANGE_CARD)},e.prototype.clap=function(t){this.changeState(r.CLAP,t)},e.prototype.playerWin=function(t){this.callbackThrowCoins=t,this.changeState(r.WIN,1)},e.prototype.pressBell=function(t){this.callbackPressBell=t,this.changeState(r.PRESS_BELL,1)},e}(a);e.CompoCharacter=h},2666:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoBase=void 0;var r=Phaser.GameObjects.Container,s=n(3402).AtlasName.AtlasDiceMisc,a=n(1853),c=function(t){function e(e){var n=t.call(this,e)||this;return n.diceScene=e,n.base=n.diceScene.add.image(0,0,s.name,s.Frame.base),n.lid=n.diceScene.add.image(0,0,s.name,s.Frame.lid),n.dice=new a.Dice(n.diceScene),n._tweenOpen=null,n.lid.setOrigin(0,1),n.base.setOrigin(.5,0),n.base.setPosition(n.lid.width/2,-1),n.dice.savePosition(n.base.x,n.base.y-20),n.setSize(n.base.width,n.base.height+n.lid.height),n.add([n.lid,n.dice,n.base]),n}return o(e,t),e.prototype.playOpenLib=function(t,e,n){var i=this;null===this._tweenOpen?this._tweenOpen=this.diceScene.tweens.add({targets:this.lid,rotation:-Math.PI/3,duration:300,ease:Phaser.Math.Easing.Back.Out,onComplete:function(){null!==i._tweenOpen&&i._tweenOpen.remove()}}):this._tweenOpen.restart(),this.diceScene.time.delayedCall(150,(function(){return i.dice.playThrowDice(t,e,n)}))},e.prototype.reset=function(){this.lid.rotation=0,this.dice.reset()},e.prototype.runOnMobile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dice.runOnMobile()},e.prototype.runOnDesktop=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dice.runOnDesktop()},e}(r);e.CompoBase=c},1997:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoDice=void 0;var r=Phaser.GameObjects.Container,s=n(2666),a=n(1853),c=n(6871),u=n(5080),h=function(t){function e(e){var n=t.call(this,e)||this;return n.diceScene=e,n.compoBase=new s.CompoBase(n.diceScene),n.diceDarkMode=new a.Dice(n.diceScene),n._multiplier=0,n.add([n.compoBase,n.diceDarkMode]),n}return o(e,t),e.prototype.startRoll=function(t){var e=parseFloat(Phaser.Math.FloatBetween(1,100).toFixed(2));this.diceScene.mode===c.MODE_STYLES.LIGHT?this.compoBase.playOpenLib(e,t,e>=this._multiplier):this.diceDarkMode.playRunDice(e,t,e>=this._multiplier)},e.prototype.onUpdateMultiplier=function(t){this._multiplier=t,console.error(this._multiplier)},e.prototype.reset=function(){this.compoBase.reset(),this.diceDarkMode.reset()},e.prototype.runLightMode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.compoBase.setVisible(!0),this.diceDarkMode.setVisible(!1),this.diceScene.isMobile?this.compoBase.setPosition(-80*u.DPR,t[0].y):this.compoBase.setPosition((t[0].x-this.compoBase.width)/2,t[0].y)},e.prototype.runDarkMode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.compoBase.setVisible(!1),this.diceDarkMode.setVisible(!0),this.diceScene.isMobile?this.diceDarkMode.savePosition(this.diceDarkMode.width/2+2*u.DPR,t[0].y-this.diceDarkMode.height/2-10*u.DPR):this.diceDarkMode.savePosition(t[0].x-this.diceDarkMode.width,t[0].y-this.diceDarkMode.height/2-10)},e.prototype.runOnDesktop=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.compoBase.runOnDesktop(),this.diceDarkMode.runOnDesktop()},e.prototype.runOnMobile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.compoBase.runOnMobile(),this.diceDarkMode.runOnMobile()},e}(r);e.CompoDice=h},1853:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Dice=void 0;var r=n(3402),s=n(5080),a=r.AtlasName.AtlasDiceMisc,c=Phaser.GameObjects.Container,u=Phaser.Geom.Rectangle,h=Phaser.Physics.Arcade.Events.WORLD_BOUNDS,l=Phaser.Math.Vector2,p=Phaser.Curves.QuadraticBezier,d=function(t){function e(e){var n=t.call(this,e)||this;return n.diceScene=e,n.dice=n.diceScene.physics.add.image(0,0,a.name,a.Frame.dice),n.text=n.diceScene.add.text(0,0,"",{fontFamily:"Montserrat-SemiBold",fontSize:"30px"}),n._storePosition={x:0,y:0},n._heightBoundBody=0,n.text.setOrigin(.5,0),n.dice.disableBody(),n.add([n.dice,n.text]),n.setSize(n.dice.width,n.dice.height),n}return o(e,t),e.prototype.savePosition=function(t,e){this.setPosition(t,e),this._storePosition.x=t,this._storePosition.y=e},e.prototype.playRunDice=function(t,e,n){var i=this,o=Phaser.Math.Percent(t,0,100),r=Phaser.Math.FromPercent(o,0,e.width),s=this.parentContainer.getLocalPoint(r+e.x,e.y).x,a=Phaser.Math.FromPercent(o,200,700);this.diceScene.tweens.add({targets:this,x:s,ease:Phaser.Math.Easing.Linear,duration:a,onComplete:function(){i._showResult(t,n)}})},e.prototype.playThrowDice=function(t,e,n){var i=this;this.dice.setPosition(0,0),this.dice.body.world.on(h,this._onDiceCollide,this),this.dice.body.setBounce(.1,.1).setGravityY(100).setBoundsRectangle(new u(0,0,this.diceScene.sizer.width,this._heightBoundBody)).setCollideWorldBounds(!0,void 0,void 0,!1);var o=Phaser.Math.Percent(t,0,100),r=Phaser.Math.FromPercent(o,0,e.width),s=this.dice.parentContainer.getLocalPoint(r+e.x,e.y),a=Phaser.Math.FromPercent(o,200,600),c=Phaser.Math.FromPercent(o,500,1e3),p=s.x,d=s.y-e.height/2-this.dice.height/2;this.diceScene.isMobile||(d-=10);var f=p-Phaser.Math.FromPercent(o,20,170),v=new l(this.dice.x,this.dice.y),m=new l(f/2,d/2-a),y=new l(f,d);this._tweenCurve(v,m,y,c,(function(){i.diceScene.isMobile||(i.dice.body.enable=!0);var e=new l(i.dice.x,i.dice.y),o=new l((i.dice.x+p)/2,d/2-a/4),r=new l(p,d);i._tweenCurve(e,o,r,300,(function(){i._showResult(t,n)})),i.diceScene.tweens.killTweensOf(i.dice),i.diceScene.tweens.add({targets:i.dice,angle:i.dice.angle>0?360:0,duration:300,onUpdate:function(){return i.text.setAngle(i.dice.angle)}})}));var g=o>.5?600:270;this.diceScene.tweens.add({targets:this.dice,angle:g,duration:c,onUpdate:function(){return i.text.setAngle(i.dice.angle)}})},e.prototype._tweenCurve=function(t,e,n,i,o){var r=this,s=new p(t,e,n),a={t:0};this.diceScene.tweens.add({targets:a,t:1,duration:i,onUpdate:function(){var t=s.getPoint(a.t);r.dice.copyPosition(t)},onComplete:o})},e.prototype._onDiceCollide=function(t,e,n,i,o){n&&this.dice.body.world.off(h,this._onDiceCollide,this)},e.prototype._showResult=function(t,e){this._setTextResult(t,e),this.diceScene.onGameResult(e)},e.prototype._setTextResult=function(t,e){var n=e?"#00C242":"#FF1F44";this.text.setPosition(this.dice.x,this.dice.y),this.text.setVisible(!0),this.text.setText(t+""),this.text.setColor(n),this.diceScene.isMobile&&(this.text.y-=5*s.DPR)},e.prototype.reset=function(){this.dice.disableBody(),this.dice.setPosition(0,0),this.text.setPosition(0,0),this.text.setVisible(!1),this.setPosition(this._storePosition.x,this._storePosition.y)},e.prototype.runOnMobile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._heightBoundBody=260*s.DPR,this.text.setFontSize(25)},e.prototype.runOnDesktop=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._heightBoundBody=640,this.text.setFontSize(30)},e}(c);e.Dice=d},4680:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundMultiplier=void 0;var r=Phaser.GameObjects.Container,s=n(5080),a=function(t){function e(e){var n=t.call(this,e)||this;return n.diceScene=e,n._listNumbers=[1,25,50,75,100],n.containerNumbers=new r(n.diceScene),n.maskGreen=n.diceScene.make.graphics({},!1),n._w=0,n._h=0,n._r=0,n._fontSizeNum=0,n}return o(e,t),e.prototype.init=function(){this.diceScene.make.graphics({},!1).fillStyle(15545427,1).fillRoundedRect(0,0,this._w,this._h,this._r).generateTexture("bg-red",this._w,this._h).clear().fillStyle(56138,1).fillRoundedRect(0,0,this._w,this._h,this._r).generateTexture("bg-green",this._w,this._h).destroy();var t=this.diceScene.make.image({key:"bg-red"},!1);this.add(t);var e=this.maskGreen.fillStyle(16777215,1).fillRect(0,0,this._w,this._h).createGeometryMask(),n=this.diceScene.make.image({key:"bg-green"},!1);n.setMask(e),this.add(n),this.add(this.containerNumbers),this._addNumbers(this._w)},e.prototype.getBounding=function(){return this.getBounds()},e.prototype.calculateBounding=function(){var t=this.getBounding();return t.left+=5*s.DPR,t.right-=5*s.DPR,t},e.prototype.updateMask=function(t){var e=t.getGlobalPosition();this.maskGreen.setPosition(e.x,e.y-this._h/2)},e.prototype._addNumbers=function(t){for(var e=.96*t/(this._listNumbers.length-1),n=-Math.floor(this._listNumbers.length/2),i=0;i<this._listNumbers.length;i++){var o=this.diceScene.make.text({text:this._listNumbers[i]+"",style:{fontSize:this._fontSizeNum+"px",color:"#ffffff",fontFamily:"Montserrat-Bold"}}),r=.5;0===i?r=0:i===this._listNumbers.length-1&&(r=1),o.setOrigin(r,.5),o.x=e*n,this.containerNumbers.add(o),n++}},e.prototype.runOnDesktop=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._w=.65*this.diceScene.sizer.width,this._h=40,this._r=20,this._fontSizeNum=22},e.prototype.runOnMobile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._w=.9*this.diceScene.sizer.width,this._h=25*s.DPR,this._r=12*s.DPR,this._fontSizeNum=14*s.DPR},e}(r);e.BackgroundMultiplier=a},2038:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoMultiplier=e.EventMultiplier=void 0;var r,s=Phaser.GameObjects.Container,a=n(3402).AtlasName.AtlasDiceMisc,c=n(5080),u=Phaser.Input.Events.POINTER_DOWN,h=Phaser.Input.Events.POINTER_MOVE,l=Phaser.Input.Events.POINTER_UP,p=Phaser.Input.Events.POINTER_UP_OUTSIDE,d=Phaser.Geom.Rectangle,f=n(4680),v=n(8449);!function(t){t.MULTIPLIER="multiplier",t.WIN_LOSE_COMPLETED="win-lose-completed"}(r=e.EventMultiplier||(e.EventMultiplier={}));var m=function(t){function e(e){var n=t.call(this,e)||this;return n.diceScene=e,n._background=new f.BackgroundMultiplier(n.diceScene),n._thumb=n.diceScene.make.container({}),n._bgThumb=n.diceScene.make.image({key:a.name,frame:a.Frame["bg-thumb"]}),n._star=n.diceScene.make.image({key:a.name,frame:a.Frame.star}),n._multiplierContainer=n.diceScene.make.container({}),n._multiplier=n.diceScene.make.image({key:a.name,frame:a.Frame.multiplier}),n._multiplierText=n.diceScene.make.text({text:"",style:{fontFamily:"Montserrat-Bold"}}),n.effectWinLose=null,n._currentPointerX=0,n._currentThumbX=0,n._boundContainerText=new d,n._tweenMultiContainer=null,n.add(n._background),n._bgThumb.setScale(.5),n._star.setScale(.5),n._thumb.add([n._bgThumb,n._star]),n._thumb.setInteractive({useHandCursor:!0,hitArea:new Phaser.Geom.Circle(0,0,n._bgThumb.displayWidth/2),hitAreaCallback:Phaser.Geom.Circle.Contains}).on(u,n._onDownThumb,n),n.add(n._thumb),n._multiplier.setOrigin(.5,1),n._multiplierText.setOrigin(.5),n._multiplierContainer.add([n._multiplier,n._multiplierText]),n._multiplierContainer.y=-n._bgThumb.displayHeight/2,n._multiplierContainer.alpha=0,n.add(n._multiplierContainer),n}return o(e,t),e.prototype.showResult=function(t){var e=this;this.diceScene.tweens.add({targets:this._thumb,duration:300,scaleX:2.5,scaleY:2.5,onComplete:function(){return e.playEffectWinLose(t,2.5*e._bgThumb.scaleX)}})},e.prototype.playEffectWinLose=function(t,e){var n=this;null===this.effectWinLose&&(this.effectWinLose=new v.EffectWinLose(this.diceScene),this.add(this.effectWinLose));var i=t?56138:16719684;this.effectWinLose.setPosition(this._thumb.x,this._thumb.y),this.effectWinLose.playEffect(i,e,(function(){return n.onWinLoseCompleted(t,i)}))},e.prototype.onWinLoseCompleted=function(t,e){var n=this;this._star.setTintFill(e),this.diceScene.tweens.add({targets:this._thumb,duration:300,scaleX:1,scaleY:1,onComplete:function(){t&&null!==n.effectWinLose&&n.effectWinLose.playParticle(),n.diceScene.cameras.main.shake(100,.002),n.emit(r.WIN_LOSE_COMPLETED)}})},e.prototype.updateRollOver=function(t){this._multiplierText.setText(t+"")},e.prototype.onMultiplierChange=function(t){var e=t/100;this._thumb.x=Phaser.Math.FromPercent(e,this._boundContainerText.left,this._boundContainerText.right),this._multiplierContainer.x=this._thumb.x,this._background.updateMask(this._thumb)},e.prototype.updateMultiplierText=function(){var t=Phaser.Math.Percent(this._thumb.x,this._boundContainerText.left,this._boundContainerText.right),e="#ED3453";t>=.5&&(e="#00DB4A");var n=parseFloat((100*t).toFixed(2));this._multiplierText.setColor(e),this._multiplierContainer.x=this._thumb.x,this._background.updateMask(this._thumb),this.emit(r.MULTIPLIER,n)},e.prototype.getBoundingBar=function(){return this._background.calculateBounding()},e.prototype._onDownThumb=function(t){this._currentPointerX=t.x,this._currentThumbX=this._thumb.x,this.stopTweenAlphaMultiContainer(),this._multiplierContainer.alpha=1,this.diceScene.input.on(h,this._onMoveThumb,this),this.diceScene.input.once(l,this._onUpThumb,this),this.diceScene.input.once(p,this._onUpThumb,this)},e.prototype._onMoveThumb=function(t){var e=t.x-this._currentPointerX;e+=this._currentThumbX;var n=Phaser.Math.FromPercent(.011,this._boundContainerText.left,this._boundContainerText.right);e=Phaser.Math.Clamp(e,n,this._boundContainerText.right),this._thumb.x=e,this.updateMultiplierText()},e.prototype._onUpThumb=function(){this.diceScene.input.off(h,this._onMoveThumb,this),this.tweenAlphaMultiContainer()},e.prototype.tweenAlphaMultiContainer=function(){var t=this;null===this._tweenMultiContainer?this._tweenMultiContainer=this.diceScene.tweens.add({targets:this._multiplierContainer,alpha:0,duration:500,onComplete:function(){null!==t._tweenMultiContainer&&t._tweenMultiContainer.remove()}}):this._tweenMultiContainer.restart()},e.prototype.stopTweenAlphaMultiContainer=function(){null!==this._tweenMultiContainer&&(this._tweenMultiContainer.stop(),this._tweenMultiContainer.remove())},e.prototype.reset=function(){this._star.clearTint()},e.prototype.runOnDesktop=function(){this._background.runOnDesktop(),this._background.init(),this._boundContainerText=this._background.calculateBounding(),this._multiplierText.setFontSize(25),this._multiplierText.y=-45,this.updateMultiplierText()},e.prototype.runOnMobile=function(){this._background.runOnMobile(),this._background.init(),this._boundContainerText=this._background.calculateBounding(),this._multiplierText.setFontSize(18*c.DPR),this._multiplierText.y=-28*c.DPR,this.updateMultiplierText()},e.prototype.runLightMode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.runDarkMode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e}(s);e.CompoMultiplier=m},717:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoRatio=e.EventRatio=void 0;var r,s=Phaser.GameObjects.Container,a=n(5080),c=n(8488),u=Phaser.Math.Vector2;!function(t){t.ROLL_OVER="rollOver",t.MULTIPLIER_CHANGE="multiplier-change"}(r=e.EventRatio||(e.EventRatio={}));var h=function(t){function e(e,n){var i=t.call(this,e)||this;return i.diceScene=e,i.parent=n,i._background=i.diceScene.make.image({}),i._multiplierText=i.diceScene.make.text({text:"Multiplier"}),i._chanceWinText=i.diceScene.make.text({text:"Chance To Win"}),i._rollOverText=i.diceScene.make.text({text:"Roll Over"}),i._multiplier=new c.ItemRatio(i.diceScene),i._chanceWin=new c.ItemRatio(i.diceScene),i._rollOver=new c.ItemRatio(i.diceScene),i._tweenTop=null,i._tweenBottom=null,i._storePosition=new u,i._fontSizeText=0,i._multiplierText.setOrigin(.5),i._chanceWinText.setOrigin(.5),i._rollOverText.setOrigin(.5),i._chanceWin.suffixText="%",i._multiplier.on(c.EEventName.TEXT_CHANGE,i.onMultiplierChange,i),i._chanceWin.on(c.EEventName.TEXT_CHANGE,i.onChanceChange,i),i._rollOver.on(c.EEventName.TEXT_CHANGE,i.onRollOverChange,i),e.isMobile&&(i._multiplier.on(c.EEventName.OPEN_EDIT_TEXT,i.tweenToTop,i),i._chanceWin.on(c.EEventName.OPEN_EDIT_TEXT,i.tweenToTop,i),i._rollOver.on(c.EEventName.OPEN_EDIT_TEXT,i.tweenToTop,i),i._multiplier.on(c.EEventName.CLOSE_EDIT_TEXT,i.tweenToBottom,i),i._chanceWin.on(c.EEventName.CLOSE_EDIT_TEXT,i.tweenToBottom,i),i._rollOver.on(c.EEventName.CLOSE_EDIT_TEXT,i.tweenToBottom,i)),i.add([i._background,i._multiplierText,i._chanceWinText,i._rollOverText,i._multiplier,i._chanceWin,i._rollOver]),i}return o(e,t),e.prototype.init=function(){var t={fontSize:this._fontSizeText+"px",color:"#4A8AFF",fontFamily:"Montserrat-SemiBold"};this._multiplierText.setStyle(t),this._chanceWinText.setStyle(t),this._rollOverText.setStyle(t),this._multiplier.setMinMax(1.1,100),this._chanceWin.setMinMax(.98,89.09),this._rollOver.setMinMax(10.91,99.02)},e.prototype.onMultiplierChange=function(t){this._calculatingChanceWin(t),this._calculatingRollOver(t),this.emit(r.MULTIPLIER_CHANGE,t)},e.prototype.onChanceChange=function(t){var e=98/t;this._multiplier.setText(e.toFixed(2)),this._calculatingRollOver(e),this.emit(r.MULTIPLIER_CHANGE,e)},e.prototype.onRollOverChange=function(t){var e=98/(100-t);this._multiplier.setText(e.toFixed(2)),this._calculatingChanceWin(e),this.emit(r.MULTIPLIER_CHANGE,e)},e.prototype._calculatingChanceWin=function(t){var e=parseFloat((100/t*.98).toFixed(2));this._chanceWin.setText(e)},e.prototype._calculatingRollOver=function(t){var e=100-100/t*.98;e=parseFloat(e.toFixed(2)),this._rollOver.setText(e),this.emit(r.ROLL_OVER,e)},e.prototype.onUpdateMultiplier=function(t){this._multiplier.setText(t),this._calculatingChanceWin(t),this._calculatingRollOver(t)},e.prototype.tweenToTop=function(){this.parentContainer&&this.parentContainer.remove(this),this._storePosition.set(this.x,this.y),null!==this._tweenBottom&&(this._tweenBottom.stop(),this._tweenBottom.remove()),null===this._tweenTop?this._tweenTop=this.diceScene.tweens.add({targets:this,y:this._background.height/2,duration:200}):this._tweenTop.restart()},e.prototype.tweenToBottom=function(){var t=this;null!==this._tweenTop&&(this._tweenTop.stop(),this._tweenTop.remove()),null===this._tweenBottom?this._tweenBottom=this.diceScene.tweens.add({targets:this,y:this._storePosition.y,duration:200,onComplete:function(){return t.parent.addAt(t,2)}}):this._tweenBottom.restart()},e.prototype.runOnDesktop=function(){this._fontSizeText=20*a.DPR;var t=.65*this.diceScene.sizer.width,e=18,n=this.diceScene.make.graphics({},!1);n.fillStyle(1849700,1).fillRoundedRect(0,0,t,96,10).generateTexture("background-ratio",t,96).clear().fillStyle(5795980,1).fillRect(0,0,1,56).generateTexture("line-ratio",1,56),n.destroy(),this._background.setTexture("background-ratio");for(var i=t/3,o=1;o<3;o++){var r=this.scene.make.image({key:"line-ratio"},!1);r.x=i*o-t/2,this.add(r)}this._multiplierText.setPosition(-i,-18),this._rollOverText.setPosition(i,-18),this._chanceWinText.y=-18,this._multiplier.setPosition(this._multiplierText.x,e),this._rollOver.setPosition(this._rollOverText.x,e),this._chanceWin.y=e,this._multiplier.runOnDesktop(),this._chanceWin.runOnDesktop(),this._rollOver.runOnDesktop()},e.prototype.runOnMobile=function(t){var e=this;this._fontSizeText=14*a.DPR;var n=this.diceScene.sizer.width,i=70*a.DPR,o=(i-40*a.DPR)/2,r=this.diceScene.make.graphics({},!1);this.diceScene.time.delayedCall(0,(function(){r.fillStyle(1849700,1).fillRoundedRect(0,0,n,i,10*a.DPR).generateTexture("background-ratio",n,i).clear().fillStyle(5795980,1).fillRect(0,0,1,i-40).generateTexture("line-ratio",1,i-40),r.destroy(),e._background.setTexture("background-ratio");for(var t=n/3,s=1;s<3;s++){var c=e.scene.make.image({key:"line-ratio"},!1);c.x=t*s-n/2,e.add(c)}e._multiplierText.setPosition(-t,-o),e._rollOverText.setPosition(t,-o),e._chanceWinText.y=-o,e._multiplier.setPosition(e._multiplierText.x,o),e._rollOver.setPosition(e._rollOverText.x,o),e._chanceWin.y=o})),this._multiplier.runOnMobile(),this._chanceWin.runOnMobile(),this._rollOver.runOnMobile()},e}(s);e.CompoRatio=h},8449:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EffectWinLose=void 0;var r=Phaser.GameObjects.Container,s=n(3402).AtlasName.AtlasDiceMisc,a=Phaser.Geom.Circle,c=function(t){function e(e){var n=t.call(this,e)||this;n.diceScene=e,n._star=n.diceScene.make.image({key:s.name,frame:s.Frame.star}),n._particle=n.diceScene.add.particles(s.name,s.Frame.blue),n._particleEmitter=null,n.add(n._particle),n.add(n._star);var i=new a(0,0,30);return n._particleEmitter=n._particle.createEmitter({on:!1,speed:100,lifespan:{min:1e3,max:1500},alpha:{start:1,end:0},scale:{start:.4,end:0},blendMode:"ADD",emitZone:{type:"edge",source:i,quantity:100}}),n}return o(e,t),e.prototype.playEffect=function(t,e,n){var i=this;this._star.setTintFill(t),this._star.setScale(20),this._star.setAlpha(0),this._star.setVisible(!0),this.diceScene.tweens.add({targets:this._star,alpha:1,scaleX:e,scaleY:e,duration:300,completeDelay:100,onComplete:function(){i._star.setVisible(!1),n()}})},e.prototype.playParticle=function(){null!==this._particleEmitter&&(this._particleEmitter.setTint(this._star.tintTopLeft),this._particleEmitter.setVisible(!0),this._particleEmitter.explode(100,0,0))},e}(r);e.EffectWinLose=c},8488:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRatio=e.EEventName=void 0;var r,s=Phaser.GameObjects.Container,a=n(2605),c=Phaser.Input.Events.POINTER_DOWN,u=n(5080);!function(t){t.OPEN_EDIT_TEXT="open-text",t.CLOSE_EDIT_TEXT="close-text",t.TEXT_CHANGE="text-change"}(r=e.EEventName||(e.EEventName={}));var h=function(t){function e(e){var n=t.call(this,e)||this;return n.diceScene=e,n.suffixText="",n.background=n.diceScene.make.image({}),n.text=n.diceScene.make.text({text:"",style:{color:"#FFFFFF",fontFamily:"Montserrat-SemiBold"}}),n.textEdit=new a.default(n.text),n._widthBackground=0,n._heightBackground=0,n._radiusBackground=0,n._min=0,n._max=0,n._tweenFlicker=null,n._oldValueInput="",n.text.once(Phaser.GameObjects.Events.DESTROY,(function(){n.textEdit.onClose=null}),n),n.text.setOrigin(.5),n.add([n.background,n.text]),n}return o(e,t),e.prototype.init=function(){var t=this;this.diceScene.textures.exists("background-item-ratio")||this.diceScene.make.graphics({},!1).fillStyle(1059409).fillRoundedRect(0,0,this._widthBackground,this._heightBackground,this._radiusBackground).generateTexture("background-item-ratio",this._widthBackground,this._heightBackground).destroy();this.background.setTexture("background-item-ratio").setInteractive({cursor:"text"}).on(c,(function(){t.textEdit.open({type:"text",selectAll:!0,onOpen:function(){return t._onTextOpen()},onTextChanged:function(e,n){return t._onTextChange(n)},onClose:function(){return t._onTextClose()}}),t.textEdit.inputText.node.setAttribute("inputmode","numeric"),t.textEdit.inputText.node.style.left="-999px"}))},e.prototype.setText=function(t,e){void 0===e&&(e=!1),this.text.setText(t+this.suffixText),e&&("string"==typeof t&&(t=parseFloat(t)),this.emit(r.TEXT_CHANGE,t))},e.prototype.setMinMax=function(t,e){this._min=t,this._max=e},e.prototype._onTextOpen=function(){this.text.setVisible(!0),this.text.setText("|"),this._playFlicker(),this.emit(r.OPEN_EDIT_TEXT)},e.prototype._onTextChange=function(t){if(""===t)return this._playFlicker(),void this.text.setText("|");this._pauseFlicker(),this.text.setAlpha(1),/^-?\d*[.,]?\d{0,2}$/.test(t)?this._oldValueInput=t:(t=this._oldValueInput,this.textEdit.inputText.text=this._oldValueInput),this.setText(t,!0);var e=parseFloat(t);0!==this._max&&e>this._max&&(this.textEdit.inputText.text=this._max+"",this.setText(this._max,!0))},e.prototype._onTextClose=function(){if(this._pauseFlicker(),this.text.setAlpha(1),0!==this._min){var t=parseFloat(this.text.text);(t<this._min||isNaN(t))&&this.setText(this._min,!0)}this.emit(r.CLOSE_EDIT_TEXT)},e.prototype._playFlicker=function(){null!==this._tweenFlicker?this._tweenFlicker.resume():this._tweenFlicker=this.diceScene.tweens.add({targets:this.text,alpha:0,repeat:-1,duration:300,yoyo:!0})},e.prototype._pauseFlicker=function(){null!==this._tweenFlicker&&this._tweenFlicker.pause()},e.prototype.runOnMobile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._widthBackground=100*u.DPR,this._heightBackground=30*u.DPR,this._radiusBackground=5*u.DPR,this.text.setFontSize(18*u.DPR),this.init()},e.prototype.runOnDesktop=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._widthBackground=300,this._heightBackground=40,this._radiusBackground=8,this.text.setFontSize(30),this.init()},e}(s);e.ItemRatio=h},7072:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CompoTest=void 0;var r=Phaser.GameObjects.Container,s=n(5080),a=Phaser.Input.Events.POINTER_DOWN,c=function(t){function e(e){var n=t.call(this,e)||this;n.diceScene=e;var i=n.scene.make.graphics({});return n.scene.time.delayedCall(0,(function(){var t=80*s.DPR,e=40*s.DPR;i.fillStyle(16777215).fillRoundedRect(0,0,t,e,10*s.DPR).generateTexture("bg-test",t,e),i.destroy();var o=n._addContainer("Roll",(function(){n.diceScene.startGame()}));o.x-=t/2+10,o.y+=e/2+10})),n}return o(e,t),e.prototype._addContainer=function(t,e){var n=this.scene.make.container({});return n.setPosition(this.diceScene.sizer.width,0),this.add(n),this._addButton(n,t,e),n},e.prototype._addButton=function(t,e,n){var i=this.scene.add.image(0,0,"bg-test");i.setOrigin(.5),i.setInteractive({useHandCursor:!0}).on(a,n,this),t.add(i);var o=this.scene.make.text({style:{color:"#000000",fontFamily:"Montserrat-SemiBold",fontSize:12*s.DPR+"px",align:"center"}});o.setText(e),o.setOrigin(.5),t.add(o)},e}(r);e.CompoTest=c},8985:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Config=void 0;var i=n(8356);e.Config=Object.assign(i.Config,{DEV:!0,PATH_ASSETS:"dice/",BASE_API_URL:"https://funasia-game-hilo-dev.azurewebsites.net/",FEE:.97})},5335:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiloData=void 0,e.HiloData={token:"",continueGame:!1,gameId:"",idCardChosen:-1,dataBet:{},isChosenLower:!1,payout:0,walletId:""}},9061:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.DiceScene=void 0;var r=n(8985),s=n(3402),a=n(1221),c=n(9646),u=n(2149),h=n(7072),l=n(6285),p=n(6871),d=n(6517),f=n(5080),v=n(3262),m=n(490),y=n(9323),g=function(t){function e(){var n=t.call(this,{key:e.SCENE_NAME})||this;return n.soundManager=new d.SoundManager(n),n._keySoundBackground="",n.background=null,n.compoMenu=null,n.compoBoard=null,n.socketController=null,n.receiveController=new v.ReceiveController(n),n.compoTest=null,n.mode=p.MODE_STYLES.LIGHT,n}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.preload=function(){this.load.setPath(r.Config.PATH_ASSETS);var t="background.webp";this.isAndroid?t="background-android.webp":this.isIOS&&(t="background-ios.webp"),Array.prototype.push.call(s.AssetsManifest.images,t),this.loadAssets(s.AssetsManifest)},e.prototype.forceResize=function(){this.scale.scaleMode=Phaser.Scale.ScaleModes.WIDTH_CONTROLS_HEIGHT;var t=360*f.DPR,e=420*f.DPR;this.scale.setGameSize(t,e),this.sizer.setSize(t,e)},e.prototype.initGame=function(){var t=this,e="background";if(this.textures.exists("background-android")?e="background-android":this.textures.exists("background-ios")&&(e="background-ios"),this.textures.renameTexture(e,"background"),this.isMobile){this.forceResize();var n=this.add.graphics({});n.fillStyle(1059409),n.fillRect(0,0,this.sizer.width,this.sizer.height)}this.playBackgroundSound(),this.background=this.add.image(0,0,"background"),this.background.setOrigin(0),this.compoBoard=new c.CompoBoard(this),this.add.existing(this.compoBoard),this.compoMenu=new p.CompoMenu(this),this.add.existing(this.compoMenu),this.compoMenu.on(p.THEME_EVENT.MODE,this.changeMode,this),this.compoMenu.on(p.THEME_EVENT.MUSIC,(function(e){e?t.playBackgroundSound():t.stopBackgroundSound()}),this),r.Config.DEV&&(this.compoTest=new h.CompoTest(this),this.add.existing(this.compoTest),this.game.events.emit(l.EVENT_CORE.CONNECTED_SERVER)),this.events.once(l.EVENT_CORE.DEVICE_DESKTOP,this.runOnDesktop,this),this.events.once(l.EVENT_CORE.DEVICE_MOBILE,this.runOnMobile,this),this.runOnDevice(),this.changeMode(this.mode),m.Utils.dispatchCustomEvent("ready-game")},e.prototype.connectToServer=function(t){null===this.socketController?this.socketController=new y.SocketController(this.receiveController):this.socketController.closeSocket(r.Config.BASE_API_URL),this.socketController.initSocket(r.Config.BASE_API_URL,t)},e.prototype.onJoinedGame=function(t){},e.prototype.playBackgroundSound=function(){var t=[s.SoundName.background1,s.SoundName.background2];this._keySoundBackground=Phaser.Utils.Array.GetRandom(t),this.soundManager.play(this._keySoundBackground,{loop:!0,volume:.2})},e.prototype.stopBackgroundSound=function(){this.soundManager.stop(this._keySoundBackground)},e.prototype.changeMode=function(t){this.mode=t,t===p.MODE_STYLES.LIGHT?this.runLightMode():this.runDarkMode()},e.prototype.onStart=function(){this.input.enabled=!1},e.prototype.onEnded=function(){this.input.enabled=!0},e.prototype.startGame=function(){this.onStart(),null!==this.compoMenu&&this.compoMenu.interactiveMode(!1),null!==this.compoBoard&&this.compoBoard.onGameStarted()},e.prototype.onGameResult=function(t){null!==this.compoBoard&&this.compoBoard.onGameResult(t),this.time.delayedCall(2e3,this.resetAll,void 0,this)},e.prototype.resetAll=function(){this.onEnded(),null!==this.compoMenu&&this.compoMenu.interactiveMode(!0),null!==this.compoBoard&&this.compoBoard.reset()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.runOnDesktop=function(){if(null!==this.compoMenu&&this.compoMenu.setPosition(45,10),null!==this.background){var t=this.sizer.width/this.background.width;this.background.setScale(t),null!==this.compoBoard&&this.compoBoard.runOnDesktop(this.background)}null!==this.compoMenu&&this.compoMenu.uiWidget&&(this.compoMenu.uiWidget.setHorizontal(a.HORIZONTAL_MODE.LEFT,16),this.compoMenu.uiWidget.setVertical(a.VERTICAL_MODE.TOP,16))},e.prototype.runOnMobile=function(){if(null!==this.compoMenu){var t=this.compoMenu.getBounds();this.compoMenu.setPosition(t.width/2,0)}if(null!==this.background){var e=this.sizer.width/this.background.width;this.background.setScale(e),null!==this.compoBoard&&this.compoBoard.runOnMobile(this.background)}},e.prototype.runDarkMode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null!==this.background&&(this.background.setVisible(!1),null!==this.compoBoard&&this.compoBoard.runDarkMode(this.background))},e.prototype.runLightMode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null!==this.background&&(this.background.setVisible(!0),null!==this.compoBoard&&this.compoBoard.runLightMode(this.background))},e.SCENE_NAME="sceneDice",e}(u.GeneralScene);e.DiceScene=g},3262:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReceiveController=void 0;var i,o=n(5335);!function(t){t.JOIN="join",t.BET="bet",t.NEXT="next",t.CASHED_OUT="cashout"}(i||(i={}));var r=function(){function t(t){this.scene=t,this.socket=null}return t.prototype.updateSocket=function(t){this.socket=t},t.prototype.onConnected=function(){var t=this;console.error("onConnected",this.socket),null!==this.socket&&this.socket.emit(i.JOIN,(function(e){console.error(e),t.scene.onJoinedGame(e)}))},t.prototype.onClosed=function(){},t.prototype.onError=function(){},t.prototype.bet=function(t,e,n){null!==this.socket&&this.socket.emit(i.BET,t,e,o.HiloData.walletId,(function(t){n(t)}))},t.prototype.next=function(t,e,n,o){var r=e?"LowerEqual":"HigherEqual";null!==this.socket&&this.socket.emit(i.NEXT,t,r,n,(function(t){o(t)}))},t.prototype.cashOut=function(t,e){null!==this.socket&&this.socket.emit(i.CASHED_OUT,t,o.HiloData.walletId,(function(t){e(t)}))},t.prototype.destroy=function(){},t}();e.ReceiveController=r},5933:(t,e,n)=>{var i;!function(){function o(t,e,n){return t.call.apply(t.bind,arguments)}function r(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function s(t,e,n){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:r).apply(null,arguments)}var a=Date.now||function(){return+new Date};function c(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var u=!!window.FontFace;function h(t,e,n,i){if(e=t.c.createElement(e),n)for(var o in n)n.hasOwnProperty(o)&&("style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return i&&e.appendChild(t.c.createTextNode(i)),e}function l(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),o=0;o<e.length;o+=1){for(var r=!1,s=0;s<i.length;s+=1)if(e[o]===i[s]){r=!0;break}r||i.push(e[o])}for(e=[],o=0;o<i.length;o+=1){for(r=!1,s=0;s<n.length;s+=1)if(i[o]===n[s]){r=!0;break}r||e.push(i[o])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function f(t,e){for(var n=t.className.split(/\s+/),i=0,o=n.length;i<o;i++)if(n[i]==e)return!0;return!1}function v(t,e,n){function i(){a&&o&&r&&(a(s),a=null)}e=h(t,"link",{rel:"stylesheet",href:e,media:"all"});var o=!1,r=!0,s=null,a=n||null;u?(e.onload=function(){o=!0,i()},e.onerror=function(){o=!0,s=Error("Stylesheet failed to load"),i()}):setTimeout((function(){o=!0,i()}),0),l(t,"head",e)}function m(t,e,n,i){var o=t.c.getElementsByTagName("head")[0];if(o){var r=h(t,"script",{src:e}),s=!1;return r.onload=r.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&o.removeChild(r))},o.appendChild(r),setTimeout((function(){s||(s=!0,n&&n(Error("Script load timeout")))}),i||5e3),r}return null}function y(){this.a=0,this.c=null}function g(t){return t.a++,function(){t.a--,b(t)}}function _(t,e){t.c=e,b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function E(t){this.a=t||"-"}function k(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function T(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function O(t){return t.a+t.f}function w(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function S(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function C(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new E("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function P(t){if(t.g){var e=f(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),d(t.f,n,i)}M(t,"inactive")}function M(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,O(n)):t.h[e]())}function x(){this.c={}}function R(t,e){this.c=t,this.f=e,this.a=h(this.c,"span",{"aria-hidden":"true"},this.f)}function A(t){l(t.c,"body",t.a)}function N(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+T(t.c)+";font-style:"+w(t)+";font-weight:"+t.f+"00;"}function L(t,e,n,i,o,r){this.g=t,this.j=e,this.a=i,this.c=n,this.f=o||3e3,this.h=r||void 0}function D(t,e,n,i,o,r,s){this.v=t,this.B=e,this.c=n,this.a=i,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new R(this.c,this.s),this.h=new R(this.c,this.s),this.j=new R(this.c,this.s),this.m=new R(this.c,this.s),t=N(t=new k(this.a.c+",serif",O(this.a))),this.g.a.style.cssText=t,t=N(t=new k(this.a.c+",sans-serif",O(this.a))),this.h.a.style.cssText=t,t=N(t=new k("serif",O(this.a))),this.j.a.style.cssText=t,t=N(t=new k("sans-serif",O(this.a))),this.m.a.style.cssText=t,A(this.g),A(this.h),A(this.j),A(this.m)}E.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){var t=this.c.o.document,e=this,n=a(),i=new Promise((function(i,o){!function r(){a()-n>=e.f?o():t.fonts.load(function(t){return w(t)+" "+t.f+"00 300px "+T(t.c)}(e.a),e.h).then((function(t){1<=t.length?i():setTimeout(r,25)}),(function(){o()}))}()})),o=null,r=new Promise((function(t,n){o=setTimeout(n,e.f)}));Promise.race([r,i]).then((function(){o&&(clearTimeout(o),o=null),e.g(e.a)}),(function(){e.j(e.a)}))};var B={D:"serif",C:"sans-serif"},I=null;function j(){if(null===I){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);I=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return I}function G(t,e,n){for(var i in B)if(B.hasOwnProperty(i)&&e===t.f[B[i]]&&n===t.f[B[i]])return!0;return!1}function F(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=j()&&G(t,n,i)),e?a()-t.A>=t.w?j()&&G(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?H(t,t.v):H(t,t.B):function(t){setTimeout(s((function(){F(this)}),t),50)}(t):H(t,t.v)}function H(t,e){setTimeout(s((function(){p(this.g.a),p(this.h.a),p(this.j.a),p(this.m.a),e(this.a)}),t),0)}function z(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}D.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),F(this)};var V=null;function W(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&d(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),M(t,"active")):P(t.a))}function U(t){this.j=t,this.a=new x,this.h=0,this.f=this.g=!0}function Y(t,e,n,i,o){var r=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=o||null,a=i||{};if(0===n.length&&r)P(e.a);else{e.f+=n.length,r&&(e.j=r);var c,u=[];for(c=0;c<n.length;c++){var h=n[c],l=a[h.c],p=e.a,f=h;if(p.g&&d(p.f,[p.a.c("wf",f.c,O(f).toString(),"loading")]),M(p,"fontloading",f),p=null,null===V)if(window.FontFace){f=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var v=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);V=f?42<parseInt(f[1],10):!v}else V=!1;p=V?new L(s(e.g,e),s(e.h,e),e.c,h,e.s,l):new D(s(e.g,e),s(e.h,e),e.c,h,e.s,t,l),u.push(p)}for(c=0;c<u.length;c++)u[c].start()}}),0)}function q(t,e){this.c=t,this.a=e}function X(t,e){this.c=t,this.a=e}function K(t,e){this.c=t||J,this.a=[],this.f=[],this.g=e||""}z.prototype.g=function(t){var e=this.a;e.g&&d(e.f,[e.a.c("wf",t.c,O(t).toString(),"active")],[e.a.c("wf",t.c,O(t).toString(),"loading"),e.a.c("wf",t.c,O(t).toString(),"inactive")]),M(e,"fontactive",t),this.m=!0,W(this)},z.prototype.h=function(t){var e=this.a;if(e.g){var n=f(e.f,e.a.c("wf",t.c,O(t).toString(),"active")),i=[],o=[e.a.c("wf",t.c,O(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,O(t).toString(),"inactive")),d(e.f,i,o)}M(e,"fontinactive",t),W(this)},U.prototype.load=function(t){this.c=new c(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var i=[],o=n.timeout;!function(t){t.g&&d(t.f,[t.a.c("wf","loading")]),M(t,"loading")}(e);i=function(t,e,n){var i,o=[];for(i in e)if(e.hasOwnProperty(i)){var r=t.c[i];r&&o.push(r(e[i],n))}return o}(t.a,n,t.c);var r=new z(t.c,e,o);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load((function(e,n,i){Y(t,r,e,n,i)}))}(this,new C(this.c,t),t)},q.prototype.load=function(t){function e(){if(r["__mti_fntLst"+i]){var n,o=r["__mti_fntLst"+i](),s=[];if(o)for(var a=0;a<o.length;a++){var c=o[a].fontfamily;null!=o[a].fontStyle&&null!=o[a].fontWeight?(n=o[a].fontStyle+o[a].fontWeight,s.push(new k(c,n))):s.push(new k(c))}t(s)}else setTimeout((function(){e()}),50)}var n=this,i=n.a.projectId,o=n.a.version;if(i){var r=n.c.o;m(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(o?"?v="+o:""),(function(o){o?t([]):(r["__MonotypeConfiguration__"+i]=function(){return n.a},e())})).id="__MonotypeAPIScript__"+i}else t([])},X.prototype.load=function(t){var e,n,i=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},s=new y;for(e=0,n=i.length;e<n;e++)v(this.c,i[e],g(s));var a=[];for(e=0,n=o.length;e<n;e++)if((i=o[e].split(":"))[1])for(var c=i[1].split(","),u=0;u<c.length;u+=1)a.push(new k(i[0],c[u]));else a.push(new k(i[0]));_(s,(function(){t(a,r)}))};var J="https://fonts.googleapis.com/css";function $(t){this.f=t,this.a=[],this.c={}}var Z={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function nt(t,e){this.c=t,this.a=e}var it={Arimo:!0,Cousine:!0,Tinos:!0};function ot(t,e){this.c=t,this.a=e}function rt(t,e){this.c=t,this.f=e,this.a=[]}nt.prototype.load=function(t){var e=new y,n=this.c,i=new K(this.a.api,this.a.text),o=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var o=e[i].split(":");3==o.length&&t.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),t.a.push(o.join(r))}}(i,o);var r=new $(o);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),o=i[0].replace(/\+/g," "),r=["n4"];if(2<=i.length){var s;if(s=[],a=i[1])for(var a,c=(a=a.split(",")).length,u=0;u<c;u++){var h;if((h=a[u]).match(/^[\w-]+$/))if(null==(l=et.exec(h.toLowerCase())))h="";else{if(h=null==(h=l[2])||""==h?"n":tt[h],null==(l=l[1])||""==l)l="4";else var l=Q[l]||(isNaN(l)?"4":l.substr(0,1));h=[h,l].join("")}else h="";h&&s.push(h)}0<s.length&&(r=s),3==i.length&&(s=[],0<(i=(i=i[2])?i.split(","):s).length&&(i=Z[i[0]])&&(t.c[o]=i))}for(t.c[o]||(i=Z[o])&&(t.c[o]=i),i=0;i<r.length;i+=1)t.a.push(new k(o,r[i]))}}(r),v(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),g(e)),_(e,(function(){t(r.a,r.c,it)}))},ot.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],o=0;o<e.length;o+=2)for(var r=e[o],s=e[o+1],a=0;a<s.length;a++)i.push(new k(r,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}}),2e3):t([])},rt.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var o=0,r=n.fonts.length;o<r;++o){var s=n.fonts[o];i.a.push(new k(s.name,S("font-weight:"+s.weight+";font-style:"+s.style)))}t(i.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var st=new U(window);st.a.c.custom=function(t,e){return new X(e,t)},st.a.c.fontdeck=function(t,e){return new rt(e,t)},st.a.c.monotype=function(t,e){return new q(e,t)},st.a.c.typekit=function(t,e){return new ot(e,t)},st.a.c.google=function(t,e){return new nt(e,t)};var at={load:s(st.load,st)};void 0===(i=function(){return at}.call(e,n,e,t))||(t.exports=i)}()},3355:(t,e,n)=>{"use strict";n.r(e),n.d(e,{clearInterval:()=>s,clearTimeout:()=>a,setInterval:()=>c,setTimeout:()=>u});var i=n(6650);let o=null;const r=((t,e)=>()=>{if(null!==o)return o;const n=new Blob([e],{type:"application/javascript; charset=utf-8"}),i=URL.createObjectURL(n);return o=t(i),o.setTimeout((()=>URL.revokeObjectURL(i)),0),o})((t=>{const e=new Map([[0,()=>{}]]),n=new Map([[0,()=>{}]]),o=new Map,r=new Worker(t);r.addEventListener("message",(({data:t})=>{if(void 0!==(i=t).method&&"call"===i.method){const{params:{timerId:i,timerType:r}}=t;if("interval"===r){const t=e.get(i);if("number"==typeof t){const e=o.get(t);if(void 0===e||e.timerId!==i||e.timerType!==r)throw new Error("The timer is in an undefined state.")}else{if(void 0===t)throw new Error("The timer is in an undefined state.");t()}}else if("timeout"===r){const t=n.get(i);if("number"==typeof t){const e=o.get(t);if(void 0===e||e.timerId!==i||e.timerType!==r)throw new Error("The timer is in an undefined state.")}else{if(void 0===t)throw new Error("The timer is in an undefined state.");t(),n.delete(i)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(t)){const{error:{message:e}}=t;throw new Error(e)}{const{id:i}=t,r=o.get(i);if(void 0===r)throw new Error("The timer is in an undefined state.");const{timerId:s,timerType:a}=r;o.delete(i),"interval"===a?e.delete(s):n.delete(s)}}var i}));return{clearInterval:t=>{const n=(0,i.generateUniqueNumber)(o);o.set(n,{timerId:t,timerType:"interval"}),e.set(t,n),r.postMessage({id:n,method:"clear",params:{timerId:t,timerType:"interval"}})},clearTimeout:t=>{const e=(0,i.generateUniqueNumber)(o);o.set(e,{timerId:t,timerType:"timeout"}),n.set(t,e),r.postMessage({id:e,method:"clear",params:{timerId:t,timerType:"timeout"}})},setInterval:(t,n)=>{const o=(0,i.generateUniqueNumber)(e);return e.set(o,(()=>{t(),"function"==typeof e.get(o)&&r.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:o,timerType:"interval"}})})),r.postMessage({id:null,method:"set",params:{delay:n,now:performance.now(),timerId:o,timerType:"interval"}}),o},setTimeout:(t,e)=>{const o=(0,i.generateUniqueNumber)(n);return n.set(o,t),r.postMessage({id:null,method:"set",params:{delay:e,now:performance.now(),timerId:o,timerType:"timeout"}}),o}}}),'(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'),s=t=>r().clearInterval(t),a=t=>r().clearTimeout(t),c=(t,e)=>r().setInterval(t,e),u=(t,e)=>r().setTimeout(t,e)},9998:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o.apply(this,arguments)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function l(t){var e=c();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}function d(t,e,n){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=p(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},d(t,e,n||t)}function f(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw r}}}}var y=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_=function(t){var e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));for(var o=y.exec(t||""),r={},s=14;s--;)r[g[s]]=o[s]||"";return-1!=n&&-1!=i&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=b(r,r.path),r.queryKey=E(r,r.query),r};function b(t,e){var n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return"/"!=e.substr(0,1)&&0!==e.length||i.splice(0,1),"/"==e.substr(e.length-1,1)&&i.splice(i.length-1,1),i}function E(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,i){e&&(n[e]=i)})),n}function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),i=_(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var o=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+e,i.href=i.protocol+"://"+o+(n&&n.port===i.port?"":":"+i.port),i}var T={exports:{}};try{T.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){T.exports=!1}var O=T.exports,w="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function S(t){var e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||O))return new XMLHttpRequest}catch(t){}if(!e)try{return new(w[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function C(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{})}var P=setTimeout,M=clearTimeout;function x(t,e){e.useNativeTimers?(t.setTimeoutFn=P.bind(w),t.clearTimeoutFn=M.bind(w)):(t.setTimeoutFn=setTimeout.bind(w),t.clearTimeoutFn=clearTimeout.bind(w))}var R=A;function A(t){if(t)return N(t)}function N(t){for(var e in A.prototype)t[e]=A.prototype[e];return t}A.prototype.on=A.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},A.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<i.length;o++)if((n=i[o])===e||n.fn===e){i.splice(o,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},A.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var o=(n=n.slice(0)).length;i<o;++i)n[i].apply(this,e)}return this},A.prototype.emitReserved=A.prototype.emit,A.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},A.prototype.hasListeners=function(t){return!!this.listeners(t).length};var L=Object.create(null);L.open="0",L.close="1",L.ping="2",L.pong="3",L.message="4",L.upgrade="5",L.noop="6";var D=Object.create(null);Object.keys(L).forEach((function(t){D[L[t]]=t}));for(var B={type:"error",data:"parser error"},I="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),j="function"==typeof ArrayBuffer,G=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},F=function(t,e,n){var i=t.type,o=t.data;return I&&o instanceof Blob?e?n(o):H(o,n):j&&(o instanceof ArrayBuffer||G(o))?e?n(o):H(new Blob([o]),n):n(L[i]+(o||""))},H=function(t,e){var n=new FileReader;return n.onload=function(){var t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)},z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V="undefined"==typeof Uint8Array?[]:new Uint8Array(256),W=0;W<z.length;W++)V[z.charCodeAt(W)]=W;var U,Y=function(t){var e,n,i,o,r,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),h=new Uint8Array(u);for(e=0;e<a;e+=4)n=V[t.charCodeAt(e)],i=V[t.charCodeAt(e+1)],o=V[t.charCodeAt(e+2)],r=V[t.charCodeAt(e+3)],h[c++]=n<<2|i>>4,h[c++]=(15&i)<<4|o>>2,h[c++]=(3&o)<<6|63&r;return u},q="function"==typeof ArrayBuffer,X=function(t,e){if("string"!=typeof t)return{type:"message",data:J(t,e)};var n=t.charAt(0);return"b"===n?{type:"message",data:K(t.substring(1),e)}:D[n]?t.length>1?{type:D[n],data:t.substring(1)}:{type:D[n]}:B},K=function(t,e){if(q){var n=Y(t);return J(n,e)}return{base64:!0,data:t}},J=function(t,e){return"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t},$=String.fromCharCode(30),Z=function(t,e){var n=t.length,i=new Array(n),o=0;t.forEach((function(t,r){F(t,!1,(function(t){i[r]=t,++o===n&&e(i.join($))}))}))},Q=function(t,e){for(var n=t.split($),i=[],o=0;o<n.length;o++){var r=X(n[o],e);if(i.push(r),"error"===r.type)break}return i},tt=4,et=function(t){r(o,t);var n=l(o);function o(t){var i;return e(this,o),(i=n.call(this)).writable=!1,x(u(i),t),i.opts=t,i.query=t.query,i.readyState="",i.socket=t.socket,i}return i(o,[{key:"onError",value:function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,d(s(o.prototype),"emit",this).call(this,"error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(t){"open"===this.readyState&&this.write(t)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,d(s(o.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(t){var e=X(t,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(t){d(s(o.prototype),"emit",this).call(this,"packet",t)}},{key:"onClose",value:function(){this.readyState="closed",d(s(o.prototype),"emit",this).call(this,"close")}}]),o}(R),nt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),it=64,ot={},rt=0,st=0;function at(t){var e="";do{e=nt[t%it]+e,t=Math.floor(t/it)}while(t>0);return e}function ct(t){var e=0;for(st=0;st<t.length;st++)e=e*it+ot[t.charAt(st)];return e}function ut(){var t=at(+new Date);return t!==U?(rt=0,U=t):t+"."+at(rt++)}for(;st<it;st++)ot[nt[st]]=st;ut.encode=at,ut.decode=ct;var ht=ut,lt={encode:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},decode:function(t){for(var e={},n=t.split("&"),i=0,o=n.length;i<o;i++){var r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}},pt=function(t){r(o,t);var n=l(o);function o(){var t;return e(this,o),(t=n.apply(this,arguments)).polling=!1,t}return i(o,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(t){var e=this;this.readyState="pausing";var n=function(){e.readyState="paused",t()};if(this.polling||!this.writable){var i=0;this.polling&&(i++,this.once("pollComplete",(function(){--i||n()}))),this.writable||(i++,this.once("drain",(function(){--i||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(t){var e=this,n=function(t){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)};Q(t,this.socket.binaryType).forEach(n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var t=this,e=function(){t.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(t){var e=this;this.writable=!1,Z(t,(function(t){e.doWrite(t,(function(){e.writable=!0,e.emit("drain")}))}))}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ht()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var i=lt.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}}]),o}(et);function dt(){}var ft=null!=new S({xdomain:!1}).responseType,vt=function(t){r(s,t);var n=l(s);function s(t){var i;if(e(this,s),i=n.call(this,t),"undefined"!=typeof location){var o="https:"===location.protocol,r=location.port;r||(r=o?"443":"80"),i.xd="undefined"!=typeof location&&t.hostname!==location.hostname||r!==t.port,i.xs=t.secure!==o}var a=t&&t.forceBase64;return i.supportsBinary=ft&&!a,i}return i(s,[{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t,{xd:this.xd,xs:this.xs},this.opts),new mt(this.uri(),t)}},{key:"doWrite",value:function(t,e){var n=this,i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",(function(t){n.onError("xhr post error",t)}))}},{key:"doPoll",value:function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e}}]),s}(pt),mt=function(t){r(o,t);var n=l(o);function o(t,i){var r;return e(this,o),x(u(r=n.call(this)),i),r.opts=i,r.method=i.method||"GET",r.uri=t,r.async=!1!==i.async,r.data=void 0!==i.data?i.data:null,r.create(),r}return i(o,[{key:"create",value:function(){var t=this,e=C(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;var n=this.xhr=new S(e);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}catch(t){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{n.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?t.onLoad():t.setTimeoutFn((function(){t.onError("number"==typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(e){return void this.setTimeoutFn((function(){t.onError(e)}),0)}"undefined"!=typeof document&&(this.index=o.requestsCount++,o.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(t){this.emit("data",t),this.onSuccess()}},{key:"onError",value:function(t){this.emit("error",t),this.cleanup(!0)}},{key:"cleanup",value:function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=dt,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete o.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var t=this.xhr.responseText;null!==t&&this.onData(t)}},{key:"abort",value:function(){this.cleanup()}}]),o}(R);function yt(){for(var t in mt.requests)mt.requests.hasOwnProperty(t)&&mt.requests[t].abort()}mt.requestsCount=0,mt.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",yt):"function"==typeof addEventListener&&addEventListener("onpagehide"in w?"pagehide":"unload",yt,!1));var gt="function"==typeof Promise&&"function"==typeof Promise.resolve?function(t){return Promise.resolve().then(t)}:function(t,e){return e(t,0)},_t=w.WebSocket||w.MozWebSocket,bt=!0,Et="arraybuffer",kt="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Tt=function(t){r(o,t);var n=l(o);function o(t){var i;return e(this,o),(i=n.call(this,t)).supportsBinary=!t.forceBase64,i}return i(o,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var t=this.uri(),e=this.opts.protocols,n=kt?{}:C(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=bt&&!kt?e?new _t(t,e):new _t(t):new _t(t,e,n)}catch(t){return this.emit("error",t)}this.ws.binaryType=this.socket.binaryType||Et,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var n=function(n){var i=t[n],o=n===t.length-1;F(i,e.supportsBinary,(function(t){try{bt&&e.ws.send(t)}catch(t){}o&&gt((function(){e.writable=!0,e.emit("drain")}),e.setTimeoutFn)}))},i=0;i<t.length;i++)n(i)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=ht()),this.supportsBinary||(t.b64=1);var i=lt.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}},{key:"check",value:function(){return!(!_t||"__initialize"in _t&&this.name===o.prototype.name)}}]),o}(et),Ot={websocket:Tt,polling:vt},wt=function(n){r(a,n);var s=l(a);function a(n){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(this,a),i=s.call(this),n&&"object"===t(n)&&(r=n,n=null),n?(n=_(n),r.hostname=n.host,r.secure="https"===n.protocol||"wss"===n.protocol,r.port=n.port,n.query&&(r.query=n.query)):r.host&&(r.hostname=_(r.host).host),x(u(i),r),i.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=i.secure?"443":"80"),i.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),i.port=r.port||("undefined"!=typeof location&&location.port?location.port:i.secure?"443":"80"),i.transports=r.transports||["polling","websocket"],i.readyState="",i.writeBuffer=[],i.prevBufferLen=0,i.opts=o({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),i.opts.path=i.opts.path.replace(/\/$/,"")+"/","string"==typeof i.opts.query&&(i.opts.query=lt.decode(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,"function"==typeof addEventListener&&(i.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())}),!1),"localhost"!==i.hostname&&(i.offlineEventListener=function(){i.onClose("transport close")},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return i(a,[{key:"createTransport",value:function(t){var e=St(this.opts.query);e.EIO=tt,e.transport=t,this.id&&(e.sid=this.id);var n=o({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Ot[t](n)}},{key:"open",value:function(){var t,e=this;if(this.opts.rememberUpgrade&&a.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){e.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}},{key:"setTransport",value:function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(){e.onClose("transport close")}))}},{key:"probe",value:function(t){var e=this,n=this.createTransport(t),i=!1;a.priorWebsocketSuccess=!1;var o=function(){i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(t){if(!i)if("pong"===t.type&&"probe"===t.data){if(e.upgrading=!0,e.emitReserved("upgrading",n),!n)return;a.priorWebsocketSuccess="websocket"===n.name,e.transport.pause((function(){i||"closed"!==e.readyState&&(l(),e.setTransport(n),n.send([{type:"upgrade"}]),e.emitReserved("upgrade",n),n=null,e.upgrading=!1,e.flush())}))}else{var o=new Error("probe error");o.transport=n.name,e.emitReserved("upgradeError",o)}})))};function r(){i||(i=!0,l(),n.close(),n=null)}var s=function(t){var i=new Error("probe error: "+t);i.transport=n.name,r(),e.emitReserved("upgradeError",i)};function c(){s("transport closed")}function u(){s("socket closed")}function h(t){n&&t.name!==n.name&&r()}var l=function(){n.removeListener("open",o),n.removeListener("error",s),n.removeListener("close",c),e.off("close",u),e.off("upgrading",h)};n.once("open",o),n.once("error",s),n.once("close",c),this.once("close",u),this.once("upgrading",h),n.open()}},{key:"onOpen",value:function(){if(this.readyState="open",a.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},{key:"onPacket",value:function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}},{key:"onHandshake",value:function(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var t=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){t.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"send",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"sendPacket",value:function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}}},{key:"close",value:function(){var t=this,e=function(){t.onClose("forced close"),t.transport.close()},n=function n(){t.off("upgrade",n),t.off("upgradeError",n),e()},i=function(){t.once("upgrade",n),t.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){t.upgrading?i():e()})):this.upgrading?i():e()),this}},{key:"onError",value:function(t){a.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}},{key:"onClose",value:function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}]),a}(R);function St(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}wt.protocol=tt;var Ct="function"==typeof ArrayBuffer,Pt=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer},Mt=Object.prototype.toString,xt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Mt.call(Blob),Rt="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Mt.call(File);function At(t){return Ct&&(t instanceof ArrayBuffer||Pt(t))||xt&&t instanceof Blob||Rt&&t instanceof File}function Nt(e,n){if(!e||"object"!==t(e))return!1;if(Array.isArray(e)){for(var i=0,o=e.length;i<o;i++)if(Nt(e[i]))return!0;return!1}if(At(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Nt(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Nt(e[r]))return!0;return!1}function Lt(t){var e=[],n=t.data,i=t;return i.data=Dt(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Dt(e,n){if(!e)return e;if(At(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(Array.isArray(e)){for(var o=new Array(e.length),r=0;r<e.length;r++)o[r]=Dt(e[r],n);return o}if("object"===t(e)&&!(e instanceof Date)){var s={};for(var a in e)e.hasOwnProperty(a)&&(s[a]=Dt(e[a],n));return s}return e}function Bt(t,e){return t.data=It(t.data,e),t.attachments=void 0,t}function It(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]=It(e[i],n);else if("object"===t(e))for(var o in e)e.hasOwnProperty(o)&&(e[o]=It(e[o],n));return e}var jt,Gt=5;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(jt||(jt={}));var Ft=function(){function t(){e(this,t)}return i(t,[{key:"encode",value:function(t){return t.type!==jt.EVENT&&t.type!==jt.ACK||!Nt(t)?[this.encodeAsString(t)]:(t.type=t.type===jt.EVENT?jt.BINARY_EVENT:jt.BINARY_ACK,this.encodeAsBinary(t))}},{key:"encodeAsString",value:function(t){var e=""+t.type;return t.type!==jt.BINARY_EVENT&&t.type!==jt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),e}},{key:"encodeAsBinary",value:function(t){var e=Lt(t),n=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(n),i}}]),t}(),Ht=function(n){r(a,n);var o=l(a);function a(){return e(this,a),o.call(this)}return i(a,[{key:"add",value:function(t){var e;if("string"==typeof t)(e=this.decodeString(t)).type===jt.BINARY_EVENT||e.type===jt.BINARY_ACK?(this.reconstructor=new Vt(e),0===e.attachments&&d(s(a.prototype),"emitReserved",this).call(this,"decoded",e)):d(s(a.prototype),"emitReserved",this).call(this,"decoded",e);else{if(!At(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,d(s(a.prototype),"emitReserved",this).call(this,"decoded",e))}}},{key:"decodeString",value:function(t){var e=0,n={type:Number(t.charAt(0))};if(void 0===jt[n.type])throw new Error("unknown packet type "+n.type);if(n.type===jt.BINARY_EVENT||n.type===jt.BINARY_ACK){for(var i=e+1;"-"!==t.charAt(++e)&&e!=t.length;);var o=t.substring(i,e);if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===t.charAt(e+1)){for(var r=e+1;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(r,e)}else n.nsp="/";var s=t.charAt(e+1);if(""!==s&&Number(s)==s){for(var c=e+1;++e;){var u=t.charAt(e);if(null==u||Number(u)!=u){--e;break}if(e===t.length)break}n.id=Number(t.substring(c,e+1))}if(t.charAt(++e)){var h=zt(t.substr(e));if(!a.isPayloadValid(n.type,h))throw new Error("invalid payload");n.data=h}return n}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,n){switch(e){case jt.CONNECT:return"object"===t(n);case jt.DISCONNECT:return void 0===n;case jt.CONNECT_ERROR:return"string"==typeof n||"object"===t(n);case jt.EVENT:case jt.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case jt.ACK:case jt.BINARY_ACK:return Array.isArray(n)}}}]),a}(R);function zt(t){try{return JSON.parse(t)}catch(t){return!1}}var Vt=function(){function t(n){e(this,t),this.packet=n,this.buffers=[],this.reconPack=n}return i(t,[{key:"takeBinaryData",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=Bt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}(),Wt=Object.freeze({__proto__:null,protocol:Gt,get PacketType(){return jt},Encoder:Ft,Decoder:Ht});function Ut(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var Yt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),qt=function(t){r(o,t);var n=l(o);function o(t,i,r){var s;return e(this,o),(s=n.call(this)).connected=!1,s.disconnected=!0,s.receiveBuffer=[],s.sendBuffer=[],s.ids=0,s.acks={},s.flags={},s.io=t,s.nsp=i,r&&r.auth&&(s.auth=r.auth),s.io._autoConnect&&s.open(),s}return i(o,[{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[Ut(t,"open",this.onopen.bind(this)),Ut(t,"packet",this.onpacket.bind(this)),Ut(t,"error",this.onerror.bind(this)),Ut(t,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if(Yt.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.unshift(t);var o={type:jt.EVENT,data:n,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){var r=this.ids++,s=n.pop();this._registerAckCallback(r,s),o.id=r}var a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?this.packet(o):this.sendBuffer.push(o)),this.flags={},this}},{key:"_registerAckCallback",value:function(t,e){var n=this,i=this.flags.timeout;if(void 0!==i){var o=this.io.setTimeoutFn((function(){delete n.acks[t];for(var i=0;i<n.sendBuffer.length;i++)n.sendBuffer[i].id===t&&n.sendBuffer.splice(i,1);e.call(n,new Error("operation has timed out"))}),i);this.acks[t]=function(){n.io.clearTimeoutFn(o);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.apply(n,[null].concat(i))}}else this.acks[t]=e}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth((function(e){t.packet({type:jt.CONNECT,data:e})})):this.packet({type:jt.CONNECT,data:this.auth})}},{key:"onerror",value:function(t){this.connected||this.emitReserved("connect_error",t)}},{key:"onclose",value:function(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case jt.CONNECT:if(t.data&&t.data.sid){var e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case jt.EVENT:case jt.BINARY_EVENT:this.onevent(t);break;case jt.ACK:case jt.BINARY_ACK:this.onack(t);break;case jt.DISCONNECT:this.ondisconnect();break;case jt.CONNECT_ERROR:this.destroy();var n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(t){if(this._anyListeners&&this._anyListeners.length){var e,n=m(this._anyListeners.slice());try{for(n.s();!(e=n.n()).done;)e.value.apply(this,t)}catch(t){n.e(t)}finally{n.f()}}d(s(o.prototype),"emit",this).apply(this,t)}},{key:"ack",value:function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];e.packet({type:jt.ACK,id:t,data:o})}}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}},{key:"onconnect",value:function(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach((function(e){return t.emitEvent(e)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(e){return t.packet(e)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(t){return t()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:jt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(t){return this.flags.timeout=t,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),o}(R),Xt=Kt;function Kt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Kt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Kt.prototype.reset=function(){this.attempts=0},Kt.prototype.setMin=function(t){this.ms=t},Kt.prototype.setMax=function(t){this.max=t},Kt.prototype.setJitter=function(t){this.jitter=t};var Jt=function(n){r(s,n);var o=l(s);function s(n,i){var r,a;e(this,s),(r=o.call(this)).nsps={},r.subs=[],n&&"object"===t(n)&&(i=n,n=void 0),(i=i||{}).path=i.path||"/socket.io",r.opts=i,x(u(r),i),r.reconnection(!1!==i.reconnection),r.reconnectionAttempts(i.reconnectionAttempts||1/0),r.reconnectionDelay(i.reconnectionDelay||1e3),r.reconnectionDelayMax(i.reconnectionDelayMax||5e3),r.randomizationFactor(null!==(a=i.randomizationFactor)&&void 0!==a?a:.5),r.backoff=new Xt({min:r.reconnectionDelay(),max:r.reconnectionDelayMax(),jitter:r.randomizationFactor()}),r.timeout(null==i.timeout?2e4:i.timeout),r._readyState="closed",r.uri=n;var c=i.parser||Wt;return r.encoder=new c.Encoder,r.decoder=new c.Decoder,r._autoConnect=!1!==i.autoConnect,r._autoConnect&&r.open(),r}return i(s,[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(~this._readyState.indexOf("open"))return this;this.engine=new wt(this.uri,this.opts);var n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;var o=Ut(n,"open",(function(){i.onopen(),t&&t()})),r=Ut(n,"error",(function(n){i.cleanup(),i._readyState="closed",e.emitReserved("error",n),t?t(n):i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var s=this._timeout;0===s&&o();var a=this.setTimeoutFn((function(){o(),n.close(),n.emit("error",new Error("timeout"))}),s);this.opts.autoUnref&&a.unref(),this.subs.push((function(){clearTimeout(a)}))}return this.subs.push(o),this.subs.push(r),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(Ut(t,"ping",this.onping.bind(this)),Ut(t,"data",this.ondata.bind(this)),Ut(t,"error",this.onerror.bind(this)),Ut(t,"close",this.onclose.bind(this)),Ut(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){this.decoder.add(t)}},{key:"ondecoded",value:function(t){this.emitReserved("packet",t)}},{key:"onerror",value:function(t){this.emitReserved("error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n||(n=new qt(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var i=n[e];if(this.nsps[i].active)return}this._close()}},{key:"_packet",value:function(t){for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(t){return t()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var i=this.setTimeoutFn((function(){e.skipReconnect||(t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((function(n){n?(e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):e.onreconnect()})))}),n);this.opts.autoUnref&&i.unref(),this.subs.push((function(){clearTimeout(i)}))}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}]),s}(R),$t={};function Zt(e,n){"object"===t(e)&&(n=e,e=void 0);var i,o=k(e,(n=n||{}).path||"/socket.io"),r=o.source,s=o.id,a=o.path,c=$t[s]&&a in $t[s].nsps;return n.forceNew||n["force new connection"]||!1===n.multiplex||c?i=new Jt(r,n):($t[s]||($t[s]=new Jt(r,n)),i=$t[s]),o.query&&!n.query&&(n.query=o.queryKey),i.socket(o.path,n)}return o(Zt,{Manager:Jt,Socket:qt,io:Zt,connect:Zt}),Zt}()}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};(()=>{"use strict";var t=n(3505),e=n(9061),i=n(3975);window.addEventListener("init-dice",(function(n){(0,t.initGame)({title:"DICE 1.0",render:{roundPixels:!1},dom:{createContainer:!0},physics:{default:"arcade",arcade:{gravity:{y:200},debug:!1}},scene:[i.LoadingScene,e.DiceScene]})}))})()})();